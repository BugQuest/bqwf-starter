{% extends '@app/layout.twig' %}

{% block title %}BugQuest â€” Le framework PHP simple et extensible{% endblock %}

{% block content %}

    <div class="doc-section">
        <h2>ğŸ“¦ Cache Service</h2>
        <p>
            Le service <code>Cache</code> permet de stocker des donnÃ©es dans des fichiers PHP compilÃ©s, organisÃ©s par
            groupe.
            Il est optimisÃ© pour la performance, sans recours Ã  la sÃ©rialisation lente.
        </p>

        <h3>ğŸ”‘ Fonctions principales</h3>
        <ul>
            <li><code>Cache::put(key, value, ttl, group)</code> â€” Enregistre une donnÃ©e avec expiration.</li>
            <li><code>Cache::get(key, default, group)</code> â€” RÃ©cupÃ¨re une valeur ou retourne une valeur par dÃ©faut.
            </li>
            <li><code>Cache::remember(key, ttl, callback, group)</code> â€” Stocke le retour dâ€™un callback si la clÃ©
                nâ€™existe
                pas.
            </li>
            <li><code>Cache::forever(key, callback, group)</code> â€” MÃªme chose, mais sans expiration.</li>
            <li><code>Cache::forget(key, group)</code> â€” Supprime une entrÃ©e du cache.</li>
            <li><code>Cache::all(group)</code> â€” Retourne toutes les donnÃ©es dâ€™un groupe.</li>
            <li><code>Cache::list(group)</code> â€” Liste dÃ©taillÃ©e avec mÃ©tadonnÃ©es.</li>
        </ul>

        <h3>ğŸ“ Groupes</h3>
        <p>Les donnÃ©es sont stockÃ©es dans <code>/storage/cache/{group}/</code> pour mieux organiser les blocs de cache.
        </p>

        <h3>ğŸ§  Exemple simple</h3>
        <pre><code>
Cache::put('homepage.hero', ['title' => 'Bienvenue !'], 3600, 'homepage');

$hero = Cache::get('homepage.hero', [], 'homepage');
    </code></pre>

        <h3>â³ Exemple avec rappel automatique</h3>
        <pre><code>
$settings = Cache::remember('site.settings', 3600, function() {
    return Settings::load();
}, 'config');
    </code></pre>

        <h3>â™¾ï¸ Stockage permanent</h3>
        <pre><code>
$config = Cache::forever('site.config', fn() => loadConfig(), 'config');
    </code></pre>

        <h3>ğŸ§¼ Suppression dâ€™un cache</h3>
        <pre><code>
Cache::forget('homepage.hero', 'homepage');
    </code></pre>

        <h3>ğŸ—‚ï¸ Liste avec dÃ©tails</h3>
        <pre><code>
$items = Cache::list('homepage');

foreach ($items as $item) {
    echo $item['key'] . ' (' . $item['size'] . ' octets)';
}
    </code></pre>
    </div>

{% endblock %}
