(()=>{var t={295:()=>{document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("langSelect");t&&t.addEventListener("change",(()=>{const e=t.value;document.cookie=`bq_locale=${e};path=/;max-age=31536000;SameSite=Lax`,location.reload()}))}))}},e={};function n(s){var a=e[s];if(void 0!==a)return a.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,n),i.exports}(()=>{"use strict";class t{static setup(e=".accordeon"){document.addEventListener("click",(n=>{const s=n.target.closest(`${e} .accordeon-title`);if(!s)return;const a=s.closest(e),i=a.querySelector(".accordeon-content");i&&t.toggle(a,i)}))}static toggle(t,e){if(t.classList.contains("active"))e.style.maxHeight=e.scrollHeight+"px",e.offsetHeight,e.style.maxHeight="0",t.classList.remove("active");else{e.style.maxHeight=e.scrollHeight+"px",t.classList.add("active");const n=()=>{t.classList.contains("active")&&(e.style.maxHeight="none"),e.removeEventListener("transitionend",n)};e.addEventListener("transitionend",n)}}}n(295);class e{static accordion(t,e){let n=document.createElement("div");n.className="__accordeon accordeon",e&&n.classList.add(e);let s=document.createElement("div");s.className="__accordeon_title accordeon-title",s.textContent=t,n.appendChild(s);let a=document.createElement("div");return a.className="accordeon-content",n.appendChild(a),{accordeon:n,accordeon_content:a}}static glow_stick(){let t=document.createElement("div");return t.className="glow-bar",t}static input_text(t="",e="",n=""){let s=document.createElement("input");return s.type="text",s.placeholder=t,s.value=e,s.className=n,s}static button_submit(t="Envoyer",e="button button-primary"){let n=document.createElement("button");return n.type="submit",n.className=e,n.textContent=t,n}static button(t="Button",e="button",n=null){let s=document.createElement("div");return s.className=e,s.textContent=t,n&&s.addEventListener("click",n),s}static div(t=""){let e=document.createElement("div");return e.className=t,e}static modal(t="",e=null){let n=this.div("modal"),s=this.div("modal-wrapper"),a=this.div("modal-close"),i=this.div("modal-content");return t&&(this.div("modal-title").textContent=t,n.appendChild("titleElement")),s.appendChild(a),s.appendChild(i),n.appendChild(s),a.addEventListener("click",(()=>{n.classList.remove("active"),e&&e()})),n.addEventListener("click",(t=>{t.target===n&&(n.classList.remove("active"),e&&e())})),{modal:n,content:i,close:a}}static h2(t,e=""){let n=document.createElement("h2");return n.className=e,n.textContent=t,n}static h3(t,e=""){let n=document.createElement("h3");return n.className=e,n.textContent=t,n}static img(t,e="",n=""){let s=document.createElement("img");return s.src=t,s.alt=e,n&&(s.className=n),s}static list(t=[],e=""){let n=document.createElement("ul");return n.className=e,t.forEach((t=>{let e=document.createElement("li");e.innerHTML=t,n.appendChild(e)})),n}static search(t="Rechercher...",e=null,n=null,s=2,a=!1){let i=this.div("search-container"),l=this.input_text(t);l.type="search";let c=this.div("search-results "+(a?" open-bottom":"open-top"));return i.appendChild(l),i.appendChild(c),e&&l.addEventListener("input",(()=>{let t=l.value;t.length>=s?e(t,c):c.innerHTML=""})),n&&c.addEventListener("click",(t=>{let e=t.target.closest(".result-item");e&&n(e)})),i.addEventListener("close",(()=>{c.innerHTML="",l.value=""})),{searchContainer:i,results:c}}static input_search(t="",e="",n=null,s=null,a=2){let i=this.input_text(t,"",e);return i.type="search",i.addEventListener("input",(()=>{let t=i.value;t.length>=a?n(t):s()})),i}}class s{static panel=null;static isDragging=!1;static offset={x:0,y:0};static async init(){this.panel=e.div("debug-panel");const t=e.h3("Debug Panel"),n=e.div("close-btn");if(n.textContent="x",this.panel.append(t,n),document.body.appendChild(this.panel),!this.panel)return;this.restoreFromStorage(),document.addEventListener("keypress",(t=>{178!==t.which&&64!==t.which||(this.panel.classList.toggle("active"),localStorage.setItem("debugPanelActive",this.panel.classList.contains("active")))}));const s=this.panel.querySelector(".close-btn");s&&s.addEventListener("click",(()=>{this.panel.classList.remove("active")})),this.panel.addEventListener("mousedown",this.startDrag.bind(this)),document.addEventListener("mousemove",this.onDrag.bind(this)),document.addEventListener("mouseup",this.stopDrag.bind(this)),await this.loadMetrics(),window.debugPanel=this}static startDrag(t){this.panel.classList.contains("active")&&(this.isDragging=!0,this.offset.x=t.clientX-this.panel.offsetLeft,this.offset.y=t.clientY-this.panel.offsetTop,this.panel.classList.add("dragging"),this.panel.style.transition="none")}static onDrag(t){if(!this.isDragging)return;const e=t.clientX-this.offset.x,n=t.clientY-this.offset.y;this.panel.style.left=`${e}px`,this.panel.style.top=`${n}px`,this.panel.style.bottom="auto",this.panel.style.right="auto",localStorage.setItem("debugPanelPosition",JSON.stringify({x:e,y:n}))}static stopDrag(){this.isDragging&&(this.isDragging=!1,this.panel.classList.remove("dragging"),this.panel.style.transition="")}static restoreFromStorage(){const t=localStorage.getItem("debugPanelActive");this.panel.classList.toggle("active","true"===t);const e=localStorage.getItem("debugPanelPosition");if(e)try{const{x:t,y:n}=JSON.parse(e);this.panel.style.left=`${t}px`,this.panel.style.top=`${n}px`,this.panel.style.bottom="auto",this.panel.style.right="auto"}catch(t){const e=window.innerWidth,n=window.innerHeight,s=(e-this.panel.offsetWidth)/2,a=(n-this.panel.offsetHeight)/2;this.panel.style.left=`${s}px`,this.panel.style.top=`${a}px`,this.panel.style.bottom="auto",this.panel.style.right="auto"}}static addGroup(t,n){const{accordeon:s,accordeon_content:a}=e.accordion(t),i=e.div("wrap");a.appendChild(i),this.panel.appendChild(s);for(const t in n){const s=n[t],a=e.div("debug-line");a.innerHTML=`${t}: ${s}`,i.appendChild(a)}}static async loadMetrics(){await fetch("/admin/api/debug/metrics").then((t=>t.json())).then((t=>{for(const e in t)this.addGroup(e,t[e])}))}}document.addEventListener("DOMContentLoaded",(async()=>{await s.init(),t.setup()}))})()})();
//# sourceMappingURL=app.js.map