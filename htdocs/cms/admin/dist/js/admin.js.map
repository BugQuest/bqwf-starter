{"version":3,"file":"admin/dist/js/admin.js","mappings":"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","sources":["webpack:///../vendor/bugquest/web-framework/Assets/js/components/Accordion.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/BuildHelper.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/ConfirmDialog.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/DebugPanel.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/MediaGallery.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/MediaModalViewer.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/Toast.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/Tooltip.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/Translator.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/dropdown.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/language-switcher.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///../vendor/bugquest/web-framework/Assets/js/admin.js"],"sourcesContent":["export class Accordion {\n    static setup(selector = '.accordeon') {\n        document.addEventListener('click', (e) => {\n            const title = e.target.closest(`${selector} .accordeon-title`);\n            if (!title) return;\n\n            const accordeon = title.closest(selector);\n            const content = accordeon.querySelector('.accordeon-content');\n            if (!content) return;\n\n            Accordion.toggle(accordeon, content);\n        });\n    }\n\n    static toggle(accordeon, content) {\n        const isOpen = accordeon.classList.contains('active');\n\n        if (isOpen) {\n            // Active animation en mesurant la hauteur actuelle\n            content.style.maxHeight = content.scrollHeight + 'px';\n\n            // Forcer un reflow pour garantir la transition\n            void content.offsetHeight;\n\n            content.style.maxHeight = '0';\n            accordeon.classList.remove('active');\n        } else {\n            content.style.maxHeight = content.scrollHeight + 'px';\n            accordeon.classList.add('active');\n\n            // Nettoyage aprs animation\n            const onTransitionEnd = () => {\n                if (accordeon.classList.contains('active')) {\n                    content.style.maxHeight = 'none';\n                }\n                content.removeEventListener('transitionend', onTransitionEnd);\n            };\n\n            content.addEventListener('transitionend', onTransitionEnd);\n        }\n    }\n}","export default class BuildHelper {\n\n    static accordion(title, subclass) {\n        let accordeon = document.createElement('div');\n        accordeon.className = '__accordeon accordeon';\n        if (subclass)\n            accordeon.classList.add(subclass);\n\n        let accordeon_title = document.createElement('div');\n        accordeon_title.className = '__accordeon_title accordeon-title';\n        accordeon_title.textContent = title;\n        accordeon.appendChild(accordeon_title);\n\n        let accordeon_content = document.createElement('div');\n        accordeon_content.className = 'accordeon-content';\n        accordeon.appendChild(accordeon_content);\n\n        return {accordeon, accordeon_content};\n    }\n\n    static glow_stick() {\n        let glow_stick = document.createElement('div');\n        glow_stick.className = 'glow-bar';\n        return glow_stick;\n    }\n\n    static input_text(placeholder = '', value = '', className = '') {\n        let input = document.createElement('input');\n        input.type = 'text';\n        input.placeholder = placeholder;\n        input.value = value;\n        input.className = className;\n        return input;\n    }\n\n    static button_submit(text = 'Envoyer', className = 'button button-primary') {\n        let button = document.createElement('button');\n        button.type = 'submit';\n        button.className = className;\n        button.textContent = text;\n        return button;\n    }\n\n    static button(text = 'Button', className = 'button', onClick = null) {\n        let button = document.createElement('div');\n        button.className = className;\n        button.textContent = text;\n        if (onClick)\n            button.addEventListener('click', onClick);\n        return button;\n    }\n\n    static div(className = '') {\n        let div = document.createElement('div');\n        div.className = className;\n        return div;\n    }\n\n    static modal(title = '', onClose = null) {\n        let modal = this.div('modal');\n        let wrapper = this.div('modal-wrapper');\n        let close = this.div('modal-close');\n        let content = this.div('modal-content');\n\n        if (title) {\n            let titleElement = this.div('modal-title');\n            titleElement.textContent = title;\n            modal.appendChild('titleElement');\n        }\n\n        wrapper.appendChild(close)\n        wrapper.appendChild(content)\n        modal.appendChild(wrapper)\n\n        close.addEventListener('click', () => {\n            modal.classList.remove('active');\n            if (onClose) onClose();\n        });\n\n        modal.addEventListener('click', (e) => {\n            // Close the modal if the user clicks outside of the content area, check children\n            if (e.target === modal) {\n                modal.classList.remove('active');\n                if (onClose) onClose();\n            }\n        });\n\n        return {modal, content, close};\n    }\n\n    static h2(content, className = '') {\n        let h2 = document.createElement('h2');\n        h2.className = className;\n        h2.textContent = content;\n        return h2;\n    }\n\n    static h3(content, className = '') {\n        let h3 = document.createElement('h3');\n        h3.className = className;\n        h3.textContent = content;\n        return h3;\n    }\n\n    static img(src, alt = '', className = '') {\n        let img = document.createElement('img');\n        img.src = src;\n        img.alt = alt;\n        if (className) img.className = className;\n        return img;\n    }\n\n    static list(items = [], className = '') {\n        let ul = document.createElement('ul');\n        ul.className = className;\n\n        items.forEach(item => {\n            let li = document.createElement('li');\n            li.innerHTML = item;\n            ul.appendChild(li);\n        });\n\n        return ul;\n    }\n\n    static search(placeholder = 'Rechercher...', onSearch = null, onClickItem = null, searchMinLength = 2, openBottom = false) {\n        let searchContainer = this.div('search-container');\n        let input = this.input_text(placeholder);\n        input.type = 'search';\n        let results = this.div('search-results ' + (openBottom ? ' open-bottom' : 'open-top'));\n        searchContainer.appendChild(input);\n        searchContainer.appendChild(results);\n        if (onSearch)\n            input.addEventListener('input', () => {\n                let value = input.value;\n                if (value.length >= searchMinLength)\n                    onSearch(value, results);\n                else\n                    results.innerHTML = '';\n\n            });\n\n        if (onClickItem)\n            results.addEventListener('click', (e) => {\n                let item = e.target.closest('.result-item');\n                if (item)\n                    onClickItem(item);\n            });\n\n        //add custom event to close the search results\n        searchContainer.addEventListener('close', () => {\n            results.innerHTML = '';\n            input.value = '';\n        });\n\n        return {searchContainer, results};\n    }\n\n    static input_search(placeholder = '', className = '', onSearch = null, onEmpty = null, searchMinLength = 2) {\n        let input = this.input_text(placeholder, '', className);\n        input.type = 'search';\n        input.addEventListener('input', () => {\n            let value = input.value;\n            if (value.length >= searchMinLength)\n                onSearch(value);\n            else\n                onEmpty();\n        });\n\n        return input;\n    }\n}","import BuildHelper from './BuildHelper.js';\nimport {__} from './Translator.js';\n\nexport default class ConfirmDialog {\n    static show(\n        onConfirm = () => {\n        },\n        onCancel = () => {\n        },\n        options = {}\n    ) {\n        const defaults = {\n            title: __('Confirmation', 'admin'),\n            message: __('tes-vous sr de vouloir continuer ?', 'admin'),\n            confirmText: __('Valider', 'admin'),\n            cancelText: __('Annuler', 'admin'),\n            confirmClass: 'button success',\n            cancelClass: 'button danger'\n        };\n\n        const {title, message, confirmText, cancelText, confirmClass, cancelClass} = {...defaults, ...options};\n\n        const title_el = BuildHelper.div('confirm-title');\n        title_el.textContent = title;\n\n        const overlay_el = BuildHelper.div('confirm-overlay');\n        const box_el = BuildHelper.div('confirm-box');\n\n        const message_el = BuildHelper.div('confirm-message');\n        message_el.textContent = message;\n\n        const actions_el = BuildHelper.div('confirm-actions');\n\n        const confirm_el = BuildHelper.button(confirmText, confirmClass, () => {\n            onConfirm();\n            overlay_el.remove();\n        })\n\n        const cancel_el = BuildHelper.button(cancelText, cancelClass, () => {\n            onCancel();\n            overlay_el.remove();\n        })\n\n        actions_el.append(confirm_el, cancel_el);\n        box_el.append(title_el, message_el, actions_el);\n        overlay_el.appendChild(box_el);\n        document.body.appendChild(overlay_el);\n\n        setTimeout(() => overlay_el.classList.add('active'), 10);\n    }\n}\n","import BuildHelper from '@framework/js/components/BuildHelper.js';\n\nexport class DebugPanel {\n    static panel = null;\n    static isDragging = false;\n    static offset = {x: 0, y: 0};\n\n    static async init() {\n        this.panel = BuildHelper.div('debug-panel');\n        const title = BuildHelper.h3('Debug Panel');\n        const close_el = BuildHelper.div('close-btn');\n        close_el.textContent = 'x';\n\n        this.panel.append(title, close_el);\n        document.body.appendChild(this.panel);\n        if (!this.panel) return;\n\n        // Restore position\n        this.restoreFromStorage();\n\n        // Toggle via touche  (Backquote)\n        document.addEventListener('keypress', (e) => {\n            if (e.which === 178 || e.which === 64) {\n                this.panel.classList.toggle('active');\n                localStorage.setItem('debugPanelActive', this.panel.classList.contains('active'));\n            }\n        });\n\n        // Bouton de fermeture\n        const close = this.panel.querySelector('.close-btn');\n        if (close) {\n            close.addEventListener('click', () => {\n                this.panel.classList.remove('active');\n            });\n        }\n\n        // Dragging\n        this.panel.addEventListener('mousedown', this.startDrag.bind(this));\n        document.addEventListener('mousemove', this.onDrag.bind(this));\n        document.addEventListener('mouseup', this.stopDrag.bind(this));\n\n        await this.loadMetrics();\n    }\n\n    static startDrag(e) {\n        if (!this.panel.classList.contains('active')) return;\n\n        this.isDragging = true;\n        this.offset.x = e.clientX - this.panel.offsetLeft;\n        this.offset.y = e.clientY - this.panel.offsetTop;\n        this.panel.classList.add('dragging');\n        this.panel.style.transition = 'none';\n    }\n\n    static onDrag(e) {\n        if (!this.isDragging) return;\n\n        const x = e.clientX - this.offset.x;\n        const y = e.clientY - this.offset.y;\n\n        this.panel.style.left = `${x}px`;\n        this.panel.style.top = `${y}px`;\n        this.panel.style.bottom = 'auto';\n        this.panel.style.right = 'auto';\n\n        // Sauvegarde position en direct\n        localStorage.setItem('debugPanelPosition', JSON.stringify({x, y}));\n    }\n\n    static stopDrag() {\n        if (this.isDragging) {\n            this.isDragging = false;\n            this.panel.classList.remove('dragging');\n            this.panel.style.transition = '';\n        }\n    }\n\n    static restoreFromStorage() {\n        const isActive = localStorage.getItem('debugPanelActive');\n        this.panel.classList.toggle('active', isActive === 'true');\n\n        const pos = localStorage.getItem('debugPanelPosition');\n        if (!pos) return;\n\n        try {\n            const {x, y} = JSON.parse(pos);\n            this.panel.style.left = `${x}px`;\n            this.panel.style.top = `${y}px`;\n            this.panel.style.bottom = 'auto';\n            this.panel.style.right = 'auto';\n        } catch (e) {\n\n            //set center of the screen\n            const width = window.innerWidth;\n            const height = window.innerHeight;\n            const panelWidth = this.panel.offsetWidth;\n            const panelHeight = this.panel.offsetHeight;\n            const x = (width - panelWidth) / 2;\n            const y = (height - panelHeight) / 2;\n            this.panel.style.left = `${x}px`;\n            this.panel.style.top = `${y}px`;\n            this.panel.style.bottom = 'auto';\n            this.panel.style.right = 'auto';\n        }\n    }\n\n    static async loadMetrics() {\n        await fetch('/admin/api/debug/metrics')\n            .then(r => r.json())\n            .then(data => {\n\n                for (const group_key in data) {\n                    const {accordeon, accordeon_content} = BuildHelper.accordion(group_key);\n                    const wrap = BuildHelper.div('wrap');\n                    accordeon_content.appendChild(wrap);\n                    const items = data[group_key];\n                    for (const item_key in items) {\n                        const item = items[item_key];\n                        const item_div = BuildHelper.div('debug-line');\n                        item_div.innerHTML = `${item_key}: ${item}`;\n                        wrap.appendChild(item_div);\n                    }\n                    this.panel.appendChild(accordeon);\n                }\n            });\n    }\n}\n","import BuildHelper from './BuildHelper.js';\nimport MediaModalViewer from './MediaModalViewer.js';\nimport {Toast} from \"./Toast\";\nimport {__} from './Translator.js';\nimport ConfirmDialog from \"./ConfirmDialog\";\n\nexport default class MediaGallery {\n    constructor(element) {\n        this.element = element;\n\n        this.canUpload = false;\n        this.canModal = false;\n        this.onClickItem = null;\n        this.canEditTags = false;\n        this.deletionMode = false;\n        this.perPage = 12;\n        this.selectTags = [];\n        this.tags = [];\n        this.mimeTypes = [];\n        this.forced_mimeTypes = [];\n        this.search = '';\n        //check if element has data-per-page attribute\n        const perPage = this.element.dataset.perPage;\n        if (perPage && !isNaN(perPage))\n            this.perPage = parseInt(perPage, 10);\n\n        const canUpload = this.element.dataset.canUpload;\n        if (canUpload && canUpload === 'true')\n            this.canUpload = true;\n\n        const canModal = this.element.dataset.canModal;\n        if (canModal && canModal === 'true')\n            this.canModal = true;\n\n        const canEditTags = this.element.dataset.canEditTags;\n        if (canEditTags && canEditTags === 'true')\n            this.canEditTags = true;\n\n        const forcedMimeTypes = this.element.dataset.forcedMimeTypes;\n        if (forcedMimeTypes && forcedMimeTypes.length > 0) {\n            this.forced_mimeTypes = forcedMimeTypes.split(',').map(mime => mime.trim());\n        }\n\n        this.apiUrl = '/admin/medias';\n\n        this.buildElements();\n        this.initEvents();\n        this.loadTags();\n        this.loadPage();\n    }\n\n    buildElements() {\n\n        //====== DROPZONE ======\n        if (this.canUpload) {\n            this.dropZone = BuildHelper.div('media-dropzone');\n            this.element.appendChild(this.dropZone);\n        }\n\n        //====== TAGS ======\n        const tags = BuildHelper.div('media-gallery-tags');\n        this.element.appendChild(tags);\n\n        if (this.canEditTags) {\n            //====== TAGS FORM / ACCORDION ======\n            const {\n                accordeon,\n                accordeon_content\n            } = BuildHelper.accordion(__('Ajouter des tags', 'admin'), 'small');\n            tags.appendChild(accordeon);\n            tags.appendChild(BuildHelper.glow_stick());\n\n            const tags_form = BuildHelper.div('media-gallery-tags-form');\n            accordeon_content.appendChild(tags_form);\n\n            this.tag_input = BuildHelper.input_text(__('Ajouter un tag', 'admin'), '', 'small full');\n\n            tags_form.appendChild(this.tag_input)\n            this.tag_submit = BuildHelper.button_submit(__('Ajouter', 'admin'), 'button button-primary');\n            this.tag_submit.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.deletionMode = false;\n                tagDeleteBtn.classList.remove('active');\n                this.search = '';\n                this.updateTags();\n                const tag = this.tag_input.value.trim();\n                if (tag) {\n                    this.addTag(tag);\n                    this.tag_input.value = '';\n                }\n            })\n            tags_form.appendChild(this.tag_submit);\n        }\n\n        //====== TAGS ACTIONS/SEARCH ======\n        const tags_actions = BuildHelper.div('media-gallery-tags-actions');\n        tags.appendChild(tags_actions);\n\n\n        const search = BuildHelper.input_search(\n            __('Rechercher', 'admin') + '...',\n            'small',\n            (value) => {\n                this.search = value\n                this.updateTags()\n            },\n            () => {\n                this.search = '';\n                this.updateTags()\n            });\n\n\n        tags_actions.appendChild(search);\n\n        if (this.canEditTags) {\n            const tagDeleteBtn = this.buildTagDeleteToggle();\n            tags_actions.appendChild(tagDeleteBtn);\n        }\n\n        //====== TAGS CONTENT ======\n        this.tags_content = BuildHelper.div('media-gallery-tags-content');\n        tags.appendChild(this.tags_content)\n\n        //====== MEDIA GALLERY ======\n        const container = BuildHelper.div('fullw');\n        this.element.appendChild(container);\n\n        this.grid = BuildHelper.div('media-gallery-content');\n        container.appendChild(this.grid);\n\n        this.pagination = BuildHelper.div('media-gallery-pagination');\n        container.appendChild(this.pagination)\n\n        if (this.canModal)\n            this.modal = new MediaModalViewer(this)\n    }\n\n    buildTagDeleteToggle(media) {\n        const button = BuildHelper.div('icon danger');\n        button.innerHTML = '';\n        button.dataset.tooltip = __('Mode suppression', 'admin');\n        button.dataset.tooltipType = 'danger';\n\n        button.onclick = () => {\n            this.deletionMode = !this.deletionMode;\n\n            if (this.deletionMode) {\n                this.selectTags = [];\n                this.updateTags();\n                this.loadPage()\n            }\n\n            button.classList.toggle('active', this.deletionMode);\n        };\n\n        return button;\n    }\n\n    initEvents() {\n        this.pagination.addEventListener('click', (e) => {\n            const index = e.target.closest('span[data-page]');\n            if (index) {\n                e.preventDefault();\n                const page = parseInt(index.dataset.page, 10);\n                if (!isNaN(page))\n                    this.loadPage(page);\n            }\n        });\n\n        this.tags_content.addEventListener('click', (e) => {\n            e.preventDefault();\n            const tag = e.target.closest('span[data-tag]');\n            if (!tag) return;\n\n            const id = tag.dataset.tag;\n\n            if (!id) return;\n\n            if (this.deletionMode) {\n                ConfirmDialog.show(async () => {\n                        const response = await fetch(`${this.apiUrl}/tags/delete/${id}`, {\n                            method: 'DELETE',\n                            headers: {\n                                \"Content-Type\": \"application/x-www-form-urlencoded\",\n                            },\n                        });\n\n                        if (!response.ok) throw new Error(`HTTP ${response.status}`);\n\n                        const result = await response.json();\n                        tag.remove();\n                        this.loadPage()\n                        Toast.show(__('Tag supprim avec succs', 'admin'), {\n                            type: 'success',\n                            icon: '',\n                            duration: 5000,\n                            position: 'bottom-right',\n                            closable: true\n                        })\n                    },\n                    () => null,\n                    {\n                        title: __('Supprimer ce tag ?', 'admin'),\n                        message: __('Cette action est irrversible. tes-vous sr de vouloir continuer ?', 'admin'),\n                        confirmText: __('Supprimer', 'admin'),\n                        cancelText: __('Annuler', 'admin'),\n                        confirmClass: 'button danger',\n                        cancelClass: 'button info',\n                    });\n\n                return;\n            }\n\n            if (this.selectTags.includes(id))\n                this.selectTags.splice(this.selectTags.indexOf(id), 1);\n            else\n                this.selectTags.push(id)\n\n            this.updateTags();\n            this.loadPage(1);\n\n        });\n\n        if (this.canUpload) {\n            this.element.addEventListener('dragover', (e) => {\n                e.preventDefault();\n                this.dropZone.classList.add('active');\n            });\n\n            this.element.addEventListener('dragleave', (e) => {\n                if (e.relatedTarget === null || !this.dropZone.contains(e.relatedTarget)) {\n                    this.dropZone.classList.remove('active');\n                }\n            });\n\n            this.element.addEventListener('drop', (e) => {\n                e.preventDefault();\n                this.dropZone.classList.remove('active');\n                const files = [...e.dataTransfer.files];\n                for (let file of files)\n                    this.uploadFile(file);\n            });\n        }\n\n\n        this.element.addEventListener('click', (e) => {\n            const card = e.target.closest('.__media_card');\n            if (card) {\n                try {\n                    const media = JSON.parse(card.dataset.media)\n\n                    if (typeof this.onClickItem === 'function')\n                        this.onClickItem(media);\n\n                    if (this.canModal)\n                        this.modal.open(media)\n                } catch (err) {\n                    Toast.show(__('Erreur de parsing du mdia :', 'admin') + ' ' + err.message, {\n                        type: 'danger',\n                        icon: '',\n                        duration: 5000,\n                        position: 'bottom-right',\n                        closable: true\n                    })\n                    console.error(__('Erreur de parsing du mdia :', 'admin'), err);\n                    return;\n                }\n            }\n        });\n\n    }\n\n    async loadPage(page = 1) {\n        try {\n            const params = new URLSearchParams();\n            params.set('per_page', this.perPage);\n\n            this.selectTags.forEach(tagId => {\n                params.append('tags[]', tagId);\n            });\n\n            if(this.forced_mimeTypes)\n                this.forced_mimeTypes.forEach(mime => {\n                    params.append('mime_types[]', mime);\n                });\n\n            const response = await fetch(\n                `${this.apiUrl}/all/${page}?${params}`\n            );\n\n            if (!response.ok) throw new Error(`HTTP ${response.status}`);\n\n            const result = await response.json();\n            this.renderMedia(result.items);\n            this.renderPagination(result.current_page, result.last_page);\n        } catch (err) {\n            Toast.show('[MediaGalleryLoader] ' + __('Erreur de chargement des mdias :', 'admin') + ' ' + err.message, {\n                type: 'danger',\n                icon: '',\n                duration: 5000,\n                position: 'bottom-right',\n                closable: true\n            })\n            console.error('[MediaGalleryLoader] ' + __('Erreur de chargement des mdias :', 'admin'), err);\n        }\n    }\n\n    async loadTags() {\n        try {\n            const response = await fetch(`${this.apiUrl}/tags/all`);\n\n            if (!response.ok) throw new Error(`HTTP ${response.status}`);\n\n            const result = await response.json();\n\n            this.tags = result;\n            this.renderTags();\n        } catch (err) {\n            Toast.show('[MediaGalleryLoader] ' + __('Erreur de chargement des tags :', 'admin') + ' ' + err.message, {\n                type: 'danger',\n                icon: '',\n                duration: 5000,\n                position: 'bottom-right',\n                closable: true\n            })\n            console.error('[MediaGalleryLoader] ' + __('Erreur de chargement des tags :', 'admin'), err);\n        }\n    }\n\n    async addTag(tag) {\n        try {\n            const response = await fetch(`${this.apiUrl}/tags/add`, {\n                method: 'POST',\n                headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\n                },\n                body: 'name=' + encodeURIComponent(tag),\n            });\n\n            if (!response.ok) throw new Error(`HTTP ${response.status}`);\n\n            const result = await response.json();\n\n            this.loadTags();\n        } catch (err) {\n            Toast.show('[MediaGalleryLoader] ' + __(\"Erreur d'ajout de tag :\", 'admin') + ' ' + err.message, {\n                type: 'danger',\n                icon: '',\n                duration: 5000,\n                position: 'bottom-right',\n                closable: true\n            });\n            console.error('[MediaGalleryLoader] ' + __(\"Erreur d'ajout de tag :\", 'admin'), err);\n        }\n    }\n\n    renderMedia(mediaItems = []) {\n        this.grid.innerHTML = '';\n        mediaItems.forEach(media => {\n            const card = this.createMediaCard(media);\n            this.grid.appendChild(card);\n        });\n    }\n\n    renderPagination(currentPage, lastPage) {\n        this.pagination.innerHTML = '';\n\n        for (let page = 1; page <= lastPage; page++) {\n            const span = document.createElement('span');\n            span.dataset.page = page;\n            span.textContent = page;\n            if (page === currentPage) span.classList.add('active');\n            this.pagination.appendChild(span);\n        }\n    }\n\n    renderTags() {\n        this.tags_content.innerHTML = '';\n        this.tags.forEach(tag => {\n            const span = document.createElement('span');\n            span.dataset.tag = tag.id;\n            span.textContent = tag.name;\n            this.tags_content.appendChild(span);\n        });\n    }\n\n    /*\n        * Met  jour les tags de la galerie de mdias. ajouter class active sur les tags slectionns\n     */\n    updateTags() {\n        const tags = this.tags_content.querySelectorAll('span[data-tag]');\n        tags.forEach(tag => {\n\n            const id = tag.dataset.tag;\n\n            if (!id) return;\n\n            if (this.search)\n                tag.classList.toggle('hidden', !tag.textContent.toLowerCase().includes(this.search.toLowerCase()));\n\n            if (this.selectTags.includes(id))\n                tag.classList.add('active');\n            else\n                tag.classList.remove('active');\n        });\n    }\n\n    createMediaCard(media) {\n        const div = document.createElement('div');\n        div.className = 'media-card __media_card';\n        div.dataset.id = media.id;\n\n        const isImage = media.mime_type.startsWith('image/');\n\n        div.innerHTML = `\n            <div class=\"media-card--mime\">${media.mime_type}</div>\n            <div class=\"media-card--preview\">\n                ${isImage\n            ? `<img src=\"/${media.path}\" alt=\"${media.original_name}\">`\n            : `<div class=\"media-card--icon\">${this.getIconForMime(media.mime_type)}</div>`}\n            </div>\n            <div class=\"media-card--meta\">\n                <div class=\"name\">${media.original_name}</div>\n                <div class=\"size\">${(media.size / 1024).toFixed(1)} ko</div>\n            </div>\n        `;\n        div.dataset.media = JSON.stringify(media);\n        return div;\n    }\n\n    replaceCardWithMedia(tempCard, media) {\n        const newCard = this.createMediaCard(media);\n        tempCard.replaceWith(newCard);\n    }\n\n    getIconForMime(mime) {\n        if (mime === 'application/pdf') return '';\n        if (mime === 'text/plain') return '';\n        if (mime.startsWith('video/')) return '';\n        return '';\n    }\n\n    uploadFile(file) {\n        const formData = new FormData();\n        formData.append('file', file);\n\n        const tempCard_el = BuildHelper.div('media-card uploading');\n        const preview_el = BuildHelper.div('media-card--preview');\n        const progressBar_el = BuildHelper.div('progress-bar');\n        preview_el.appendChild(this.getPreviewHTML(file));\n        tempCard_el.appendChild(preview_el);\n        tempCard_el.appendChild(progressBar_el);\n        this.grid.prepend(tempCard_el);\n\n        const progressBar = tempCard_el.querySelector('.progress-bar');\n\n        const xhr = new XMLHttpRequest();\n        xhr.open('POST', `${this.apiUrl}/upload`);\n\n        xhr.upload.onprogress = (e) => {\n            const percent = Math.floor((e.loaded / e.total) * 100);\n            progressBar.style.width = percent + '%';\n        };\n\n        xhr.onload = () => {\n            if (xhr.status === 200) {\n                try {\n                    const response = JSON.parse(xhr.responseText);\n                    this.replaceCardWithMedia(tempCard_el, response);\n                } catch (err) {\n\n                    tempCard_el.innerHTML = `<div class=\"error\"> ${__('Rponse invalide', 'admin')}</div>`;\n                }\n            } else {\n                tempCard_el.innerHTML = `<div class=\"error\"> ${__('Upload chou', 'admin')}</div>`;\n            }\n        };\n\n        xhr.onerror = () => {\n            tempCard_el.innerHTML = `<div class=\"error\"> ${__('Erreur rseau', 'admin')}</div>`;\n        };\n\n        xhr.send(formData);\n    }\n\n    getPreviewHTML(file) {\n        if (file.type.startsWith('image/svg')) {\n            const svg = BuildHelper.img(URL.createObjectURL(file), 'preview');\n            return svg;\n        } else if (file.type.startsWith('image/'))\n            return BuildHelper.img(URL.createObjectURL(file), 'preview');\n\n        const div = BuildHelper.div('media-card--icon');\n        div.innerHTML = this.getIconForMime(file.type);\n\n        return div;\n    }\n}\n","import BuildHelper from \"./BuildHelper\";\nimport ConfirmDialog from \"./ConfirmDialog\";\nimport {Toast} from \"./Toast\";\nimport {__} from './Translator.js';\n\nexport default class MediaModalViewer {\n    constructor(gallery) {\n        this.gallery = gallery;\n        this.waitingTags = [];\n        this.deletionMode = false;\n        this.new_tag = '';\n\n        const {modal, content, close} = BuildHelper.modal(null, () => {\n            this.gallery.loadPage();\n            this.waitingTags = [];\n            this.deletionMode = false;\n            content.innerHTML = '';\n        });\n\n        this.modal = modal;\n        this.modal_content = content;\n        document.body.appendChild(this.modal);\n    }\n\n    async open(media) {\n        if (!media) return;\n\n        this.waitingTags = media.tags ? JSON.parse(JSON.stringify(media.tags)) : [];\n        this.deletionMode = false;\n        this.modal_content.innerHTML = '';\n\n        const container = BuildHelper.div('media-modal');\n\n        container.appendChild(this.buildActions(media));\n        container.appendChild(this.buildPreview(media));\n\n        const info = BuildHelper.div('media-modal--info');\n        const infoContainer = BuildHelper.div('media-modal--info-container');\n\n        const title = BuildHelper.h2(media.original_name);\n        const infoSub = BuildHelper.div();\n        const list = BuildHelper.list([`<strong>Type :</strong> ${media.mime_type}`, `<strong>Taille :</strong> ${(media.size / 1024).toFixed(1)} ko`, `<strong>Extension :</strong> ${media.extension}`, `<strong>Ajout le :</strong> ${new Date(media.created_at).toLocaleDateString('fr-FR')}`,]);\n\n        infoSub.appendChild(title);\n        infoSub.appendChild(list);\n        infoContainer.appendChild(infoSub);\n\n        infoContainer.appendChild(this.buildTagEditor(media));\n        info.appendChild(infoContainer);\n\n        if (media.exif && typeof media.exif === 'object' && Object.keys(media.exif).length > 0) {\n            const {accordeon, accordeon_content} = BuildHelper.accordion('EXIF', 'small');\n            const exifList = BuildHelper.list(Object.entries(media.exif).map(([key, value]) => `<strong>${key}:</strong> ${typeof value === 'object' ? JSON.stringify(value) : value}`));\n            exifList.classList.add('media-modal--exif');\n            accordeon_content.appendChild(exifList);\n            info.appendChild(accordeon);\n        }\n\n        container.appendChild(info);\n        this.modal_content.appendChild(container);\n        this.modal.classList.add('active');\n    }\n\n    buildTagUpdateButton(media) {\n        const button = BuildHelper.div('icon info hidden');\n        button.innerHTML = '';\n        button.dataset.tooltip = __('Mettre  jour les tags', 'admin');\n        button.dataset.tooltipType = 'info';\n\n        button.onclick = async () => {\n\n            let tagIds = this.waitingTags.map(tag => tag.id);\n\n            const encoded = tagIds.map(id => `tags[]=${encodeURIComponent(id)}`).join('&');\n\n            this.deletionMode = false;\n            this.tagDeleteBtn.classList.remove('active');\n\n            try {\n                const res = await fetch(`${this.gallery.apiUrl}/tags/set/${media.id}`, {\n                    method: 'POST', headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded',\n                    }, body: encoded\n                });\n\n                if (!res.ok) throw new Error(`HTTP ${res.status}`);\n\n                this.waitingTags.forEach(tag => {\n                    if (\"new\" in tag && tag.new) delete tag.new;\n                });\n                media.tags = JSON.parse(JSON.stringify(this.waitingTags));\n                this.updateTagList()\n                this.updateTagButtonVisibility()\n                Toast.show(__('Tags mis  jour', 'admin'), {\n                    type: 'success', icon: '', duration: 2000, position: 'bottom-right', closable: true\n                })\n\n            } catch (err) {\n                Toast.show('[MediaModalViewer] ' + __('Erreur mise  jour des tags :', 'admin') + ' ' + err.message, {\n                    type: 'danger', icon: '', duration: 5000, position: 'bottom-right', closable: true\n                })\n                console.error('[MediaModalViewer] ' + __('Erreur mise  jour des tags :', 'admin'), err);\n            }\n        };\n\n        return button;\n    }\n\n    buildTagDeleteToggle(media) {\n        const button = BuildHelper.div('icon danger');\n        button.innerHTML = '';\n        button.dataset.tooltip = __('Mode suppression', 'admin');\n        button.dataset.tooltipType = 'danger';\n\n        button.onclick = () => {\n            this.deletionMode = !this.deletionMode;\n\n            //if close delete mode, reset tags to original and keep new tags at end\n            if (!this.deletionMode) {\n                const newTags = this.waitingTags.filter(tag => (\"new\" in tag && tag.new));\n                this.waitingTags = media.tags ? JSON.parse(JSON.stringify(media.tags)) : [];\n                this.waitingTags.push(...newTags);\n                this.updateTagList();\n                this.updateTagButtonVisibility()\n            }\n\n            button.classList.toggle('active', this.deletionMode);\n        };\n\n        return button;\n    }\n\n    buildAddCategoryButton(media) {\n        const button = BuildHelper.div('icon hidden');\n        button.innerHTML = '';\n        button.dataset.tooltip = __('Ajouter une nouvelle catgorie', 'admin');\n        button.dataset.tooltipType = 'info';\n\n        button.onclick = async () => {\n\n            if (!this.new_tag || this.new_tag.length < 3) return;\n\n            //check if tag already exists\n            const tagExists = this.gallery.tags.find(tag => tag.name.toLowerCase() === this.new_tag.toLowerCase());\n            if (tagExists) return;\n\n            try {\n                const response = await fetch(`${this.gallery.apiUrl}/tags/add`, {\n                    method: 'POST',\n                    headers: {\n                        \"Content-Type\": \"application/x-www-form-urlencoded\",\n                    },\n                    body: 'name=' + encodeURIComponent(this.new_tag),\n                });\n\n                this.search.dispatchEvent(new Event('close'));\n                this.new_tag = '';\n                this.tagAddBtn.classList.add('hidden')\n\n                if (!response.ok) throw new Error(`HTTP ${response.status}`);\n\n                const tag = await response.json();\n                this.gallery.tags.push(tag);\n                this.gallery.renderTags();\n                tag.new = true;\n                this.waitingTags.push(tag);\n                this.updateTagList();\n                this.updateTagButtonVisibility();\n            } catch (err) {\n                Toast.show('[MediaModalViewer] ' + __(\"Erreur d'ajout de tag :\", 'admin') + ' ' + err.message, {\n                    type: 'danger',\n                    icon: '',\n                    duration: 5000,\n                    position: 'bottom-right',\n                    closable: true\n                })\n                console.error('[MediaModalViewer] ' + __(\"Erreur d'ajout de tag :\", 'admin'), err);\n            }\n        };\n\n        return button;\n    }\n\n    buildTagEditor(media) {\n        const tagsContainer = BuildHelper.div('media-modal--tags');\n        const tagList = BuildHelper.div('media-modal--tags-list');\n        const tagActions = BuildHelper.div('media-modal--tags-actions');\n\n        this.tagUpdateBtn = this.buildTagUpdateButton(media);\n        this.tagAddBtn = this.buildAddCategoryButton(media);\n        this.tagDeleteBtn = this.buildTagDeleteToggle(media);\n        tagActions.append(this.tagUpdateBtn, this.tagDeleteBtn, this.tagAddBtn);\n\n        this.updateTagButtonVisibility = () => {\n            //check if waintingTags is different from media.tags, ignore order, check only ids\n            const waitingTagIds = this.waitingTags.map(tag => tag.id);\n            const mediaTagIds = media.tags.map(tag => tag.id);\n            const isDifferent = waitingTagIds.length !== mediaTagIds.length || waitingTagIds.some(id => !mediaTagIds.includes(id));\n\n            if (isDifferent)\n                this.tagUpdateBtn.classList.remove('hidden');\n            else\n                this.tagUpdateBtn.classList.add('hidden');\n        };\n\n        this.updateTagList = () => {\n            tagList.innerHTML = '';\n            this.waitingTags.forEach(tag => {\n                const tagEl = BuildHelper.div('tag');\n                tagEl.textContent = tag.name;\n                tagEl.dataset.tag = tag.id;\n\n                if (tag.new) {\n                    tagEl.classList.add('new');\n                    tagEl.dataset.tooltip = __('Cliquez pour supprimer', 'admin');\n                    tagEl.dataset.tooltipType = 'info';\n                }\n\n                tagEl.onclick = () => {\n                    if (!this.deletionMode) return;\n\n                    this.waitingTags = this.waitingTags.filter(t => t.id !== tag.id);\n                    tagEl.remove();\n                    this.updateTagButtonVisibility();\n                };\n\n                tagList.appendChild(tagEl);\n            });\n        };\n\n        this.updateTagList();\n\n        const {searchContainer, result} = BuildHelper.search(\n            __('Ajouter un tag', 'admin') + '...',\n            (value, results_el) => {\n                this.new_tag = value;\n                results_el.innerHTML = '';\n                const filtered =\n                    this.gallery.tags.filter(tag => tag.name.toLowerCase().includes(value.toLowerCase())\n                        && !media.tags.some(t => t.id === tag.id)\n                        && !this.waitingTags.some(t => t.id === tag.id));\n\n                if (filtered.length) {\n                    this.tagAddBtn.classList.add('hidden');\n                    results_el.classList.add('active');\n                } else {\n                    this.tagAddBtn.classList.remove('hidden');\n                    results_el.classList.remove('active');\n                }\n\n                filtered.forEach(tag => {\n                    const tagEl = BuildHelper.div('result-item');\n                    tagEl.textContent = tag.name;\n                    tagEl.dataset.tag = tag.id;\n                    results_el.appendChild(tagEl);\n                });\n            },\n            (item) => {\n                const tagId = parseInt(item.dataset.tag);\n                const tag = this.gallery.tags.find(t => t.id === tagId);\n                if (!tag) return;\n\n                tag.new = true;\n                this.waitingTags.push(tag);\n\n                searchContainer.dispatchEvent(new Event('close'));\n                this.updateTagList();\n                this.updateTagButtonVisibility();\n            }, 2);\n        this.search = searchContainer;\n\n        tagsContainer.append(tagActions, tagList, searchContainer);\n        return tagsContainer;\n    }\n\n    buildActions(media) {\n        const actions = BuildHelper.div('flex-actions');\n\n        const dl = BuildHelper.div('icon');\n        dl.innerHTML = '';\n        dl.dataset.tooltip = __('Tlcharger', 'admin');\n        dl.dataset.tooltipType = 'info';\n        dl.onclick = async () => {\n            const blob = await (await fetch('/' + media.path)).blob();\n            const url = URL.createObjectURL(blob);\n            const link = document.createElement('a');\n            link.href = url;\n            link.download = media.original_name;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        };\n\n        const open = BuildHelper.div('icon');\n        open.innerHTML = '';\n        open.dataset.tooltip = __('Ouvrir', 'admin');\n        open.dataset.tooltipType = 'info';\n        open.onclick = () => window.open('/' + media.path, '_blank');\n\n        const del = BuildHelper.div('icon danger');\n        del.innerHTML = '';\n        del.dataset.tooltip = __('Supprimer', 'admin');\n        del.dataset.tooltipType = 'danger';\n        del.onclick = async () => {\n\n            ConfirmDialog.show(async () => {\n                try {\n                    const res = await fetch(`${this.gallery.apiUrl}/delete/${media.id}`, {method: 'DELETE'});\n                    if (!res.ok) throw new Error(`HTTP ${res.status}`);\n                    this.gallery.loadPage();\n                    Toast.show(__('Mdia supprim', 'admin'), {\n                        type: 'success', icon: '', duration: 2000, position: 'bottom-right', closable: true\n                    });\n                    this.close();\n                } catch (e) {\n                    Toast.show('[MediaModalViewer] ' + __('Erreur suppression mdia :', 'admin') + ' ' + e.message, {\n                        type: 'danger', icon: '', duration: 5000, position: 'bottom-right', closable: true\n                    });\n                    console.error('[MediaModalViewer] ' + __('Erreur suppression mdia :', 'admin'), e);\n                }\n            }, () => null, {\n                title: __('Supprimer ce mdia ?', 'admin'),\n                message: __('Cette action est irrversible. tes-vous sr de vouloir continuer ?', 'admin'),\n                confirmText: __('Supprimer', 'admin'),\n                cancelText: __('Annuler', 'admin'),\n                confirmClass: 'button danger',\n                cancelClass: 'button info',\n            });\n        };\n\n        actions.append(dl, open, del);\n        return actions;\n    }\n\n    buildPreview(media) {\n        const preview = BuildHelper.div('media-modal--preview');\n        if (media.mime_type.startsWith('image/')) {\n            preview.appendChild(BuildHelper.img('/' + media.path, media.original_name));\n        }//svg\n        else if (media.mime_type.startsWith('image/svg')) {\n            const svg = BuildHelper.img('/' + media.path, media.original_name);\n            preview.appendChild(svg);\n        } else {\n            const icon = BuildHelper.div('media-card--icon');\n            icon.innerHTML = this.gallery.getIconForMime(media.mime_type);\n            preview.appendChild(icon);\n        }\n        return preview;\n    }\n\n    close() {\n        this.modal.classList.remove('active');\n        this.modal_content.innerHTML = '';\n    }\n}\n","export class Toast {\n    static containers = new Map();\n\n    static show(message, {\n        type = 'info',\n        position = 'top-right',\n        duration = 4000,\n        icon = null,\n        closable = true\n    } = {}) {\n        const container = this._getContainer(position);\n\n        const toast = document.createElement('div');\n        toast.className = `bq-toast ${type}`;\n        toast.innerHTML = `\n            ${icon ? `<div class=\"bq-toast-icon\">${icon}</div>` : ''}\n            <div class=\"bq-toast-message\">${message}</div>\n            ${closable ? `<button class=\"bq-toast-close\" title=\"Fermer\"></button>` : ''}\n        `;\n\n        if (closable) {\n            toast.querySelector('.bq-toast-close').addEventListener('click', () => this._removeToast(toast));\n        }\n\n        container.appendChild(toast);\n\n        // Animation dapparition\n        requestAnimationFrame(() => {\n            toast.classList.add('show');\n        });\n\n        if (duration > 0) {\n            setTimeout(() => this._removeToast(toast), duration);\n        }\n    }\n\n    static _getContainer(position) {\n        if (!this.containers.has(position)) {\n            const container = document.createElement('div');\n            container.className = `bq-toast-container ${position}`;\n            document.body.appendChild(container);\n            this.containers.set(position, container);\n        }\n        return this.containers.get(position);\n    }\n\n    static _removeToast(toast) {\n        toast.classList.remove('show');\n        setTimeout(() => toast.remove(), 300);\n    }\n}","export class Tooltip {\n    static currentTarget = null;\n\n    static setup() {\n        document.addEventListener('mouseover', Tooltip.handleMouseOver);\n        document.addEventListener('mouseout', Tooltip.handleMouseOut);\n        document.addEventListener('mousemove', Tooltip.handleMouseMove);\n    }\n\n    static handleMouseOver(e) {\n        const target = e.target.closest('[data-tooltip]');\n        if (!target || target._bqTooltip) return;\n\n        Tooltip.currentTarget = target;\n        Tooltip.show(target);\n    }\n\n    static handleMouseOut(e) {\n        const target = e.target.closest('[data-tooltip]');\n        if (target && target._bqTooltip) {\n            target._bqTooltip.remove();\n            target._bqTooltip = null;\n        }\n        Tooltip.currentTarget = null;\n    }\n\n    static handleMouseMove(e) {\n        if (Tooltip.currentTarget && Tooltip.currentTarget._bqTooltip) {\n            Tooltip.move(e, Tooltip.currentTarget._bqTooltip);\n        }\n    }\n\n    static show(target) {\n        const text = target.dataset.tooltip;\n        if (!text) return;\n\n        const tooltip = document.createElement('div');\n        tooltip.className = 'bq-tooltip';\n\n        const type = target.dataset.tooltipType;\n        if (type) {\n            tooltip.classList.add(type); // ex: .danger, .info...\n        }\n\n        tooltip.innerHTML = text;\n        document.body.appendChild(tooltip);\n\n        target._bqTooltip = tooltip;\n\n        // Position initiale\n        const fakeEvent = {clientX: 0, clientY: 0, ...window.event};\n        Tooltip.move(fakeEvent, tooltip);\n    }\n\n    static move(e, tooltip) {\n        const offset = 12;\n        const mouseX = e.clientX;\n        const mouseY = e.clientY;\n\n        const tooltipRect = tooltip.getBoundingClientRect();\n        const winWidth = window.innerWidth;\n        const winHeight = window.innerHeight;\n\n        let top = mouseY + offset;\n        let left = mouseX + offset;\n\n        if (mouseX + tooltipRect.width + offset > winWidth) {\n            left = mouseX - tooltipRect.width - offset;\n        }\n\n        if (mouseY + tooltipRect.height + offset > winHeight) {\n            top = mouseY - tooltipRect.height - offset;\n        }\n\n        tooltip.style.left = `${left}px`;\n        tooltip.style.top = `${top}px`;\n    }\n}","export class Translator {\n    static _domains = {};\n    static _loaded = {};\n\n    static async load(domain) {\n        if (this._loaded[domain]) return;\n\n        try {\n            const response = await fetch(`/admin/locale/domain/get/${domain}`);\n            if (!response.ok) throw new Error(`Error for domain: ${domain}`);\n            const data = await response.json();\n            this._domains[domain] = data;\n            this._loaded[domain] = true;\n            return data;\n        } catch (error) {\n            console.error(`[Translator] ${error.message}`);\n        }\n\n        return null;\n    }\n\n    static async translate(key, domain = 'bugquest', replacements = {}) {\n        domain = domain.trim();\n        key = key.trim();\n        if (!this._loaded[domain]) await this.load(domain);\n\n        let translation = this._domains[domain]?.[key] ?? key;\n        return this._applyReplacements(translation, replacements);\n    }\n\n    static t(key, domain = 'bugquest', replacements = {}) {\n        let translation = this._domains[domain]?.[key] ?? key;\n        return this._applyReplacements(translation, replacements);\n    }\n\n    static _applyReplacements(str, replacements) {\n        return str.replace(/{(.*?)}/g, (match, token) => {\n            return replacements[token] ?? match;\n        });\n    }\n}\n\nexport function __(key, domain = 'bugquest', replacements = {}) {\n    return Translator.t(key, domain, replacements);\n}\n","document.addEventListener('click', function (e) {\n    const target = e.target.closest('.__dropdown_toggle');\n    const dropdown = target?.closest('.__dropdown');\n    document.querySelectorAll('.__dropdown').forEach(d => {\n        if (d !== dropdown) d.classList.remove('active');\n    });\n    if (dropdown) dropdown.classList.toggle('active');\n});\n","document.addEventListener('DOMContentLoaded', () => {\n    const langSelect = document.getElementById('langSelect');\n    if (langSelect) {\n        langSelect.addEventListener('change', () => {\n            const locale = langSelect.value;\n            document.cookie = `bq_locale=${locale};path=/;max-age=31536000;SameSite=Lax`;\n            location.reload();\n        });\n    }\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './components/dropdown';\nimport { Accordion } from './components/Accordion.js';\nimport './components/language-switcher';\nimport MediaGallery from './components/MediaGallery';\nimport {Tooltip} from './components/Tooltip.js';\nimport {Translator} from './components/Translator.js';\nimport {DebugPanel} from '@framework/js/components/DebugPanel';\n\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n\n    await Translator.load('admin');\n\n    await DebugPanel.init();\n\n    Accordion.setup();\n\n    Tooltip.setup();\n    const mediaGalleries = document.querySelectorAll('.__media_gallery');\n    mediaGalleries.forEach(gallery => {\n        new MediaGallery(gallery);\n    });\n\n    console.log('%c[Admin] JS charg avec succs ', 'color: cyan; font-weight: bold');\n});"],"names":["Accordion","setup","selector","document","addEventListener","e","title","target","closest","accordeon","content","querySelector","toggle","isOpen","classList","contains","style","maxHeight","scrollHeight","offsetHeight","remove","add","onTransitionEnd","removeEventListener","BuildHelper","accordion","subclass","createElement","className","accordeon_title","textContent","appendChild","accordeon_content","glow_stick","input_text","placeholder","value","input","type","button_submit","text","button","onClick","div","modal","onClose","wrapper","close","titleElement","h2","h3","img","src","alt","list","items","ul","forEach","item","li","innerHTML","search","onSearch","onClickItem","searchMinLength","openBottom","searchContainer","results","length","input_search","onEmpty","__","ConfirmDialog","show","onConfirm","onCancel","options","defaults","message","confirmText","cancelText","confirmClass","cancelClass","title_el","overlay_el","box_el","message_el","actions_el","confirm_el","cancel_el","append","body","setTimeout","DebugPanel","panel","isDragging","offset","x","y","init","close_el","restoreFromStorage","which","localStorage","setItem","startDrag","bind","onDrag","stopDrag","loadMetrics","clientX","offsetLeft","clientY","offsetTop","transition","left","top","bottom","right","JSON","stringify","isActive","getItem","pos","parse","width","window","innerWidth","height","innerHeight","panelWidth","offsetWidth","panelHeight","fetch","then","r","json","data","group_key","wrap","item_key","item_div","MediaModalViewer","Toast","MediaGallery","constructor","element","canUpload","canModal","canEditTags","deletionMode","perPage","selectTags","tags","mimeTypes","forced_mimeTypes","dataset","isNaN","parseInt","forcedMimeTypes","split","map","mime","trim","apiUrl","buildElements","initEvents","loadTags","loadPage","dropZone","tags_form","tag_input","tag_submit","preventDefault","tagDeleteBtn","updateTags","tag","addTag","tags_actions","buildTagDeleteToggle","tags_content","container","grid","pagination","media","tooltip","tooltipType","onclick","index","page","id","response","method","headers","ok","Error","status","result","icon","duration","position","closable","includes","splice","indexOf","push","relatedTarget","files","dataTransfer","file","uploadFile","card","open","err","console","error","params","URLSearchParams","set","tagId","renderMedia","renderPagination","current_page","last_page","renderTags","encodeURIComponent","mediaItems","createMediaCard","currentPage","lastPage","span","name","querySelectorAll","toLowerCase","isImage","mime_type","startsWith","path","original_name","getIconForMime","size","toFixed","replaceCardWithMedia","tempCard","newCard","replaceWith","formData","FormData","tempCard_el","preview_el","progressBar_el","getPreviewHTML","prepend","progressBar","xhr","XMLHttpRequest","upload","onprogress","percent","Math","floor","loaded","total","onload","responseText","onerror","send","svg","URL","createObjectURL","gallery","waitingTags","new_tag","modal_content","buildActions","buildPreview","info","infoContainer","infoSub","extension","Date","created_at","toLocaleDateString","buildTagEditor","exif","Object","keys","exifList","entries","key","buildTagUpdateButton","tagIds","encoded","join","res","new","updateTagList","updateTagButtonVisibility","newTags","filter","buildAddCategoryButton","tagExists","find","dispatchEvent","Event","tagAddBtn","tagsContainer","tagList","tagActions","tagUpdateBtn","waitingTagIds","mediaTagIds","isDifferent","some","tagEl","t","results_el","filtered","actions","dl","blob","url","link","href","download","click","removeChild","del","preview","containers","Map","_getContainer","toast","_removeToast","requestAnimationFrame","has","get","Tooltip","currentTarget","handleMouseOver","handleMouseOut","handleMouseMove","_bqTooltip","move","fakeEvent","event","mouseX","mouseY","tooltipRect","getBoundingClientRect","winWidth","winHeight","Translator","_domains","_loaded","load","domain","translate","replacements","translation","_applyReplacements","str","replace","match","token","dropdown","d","langSelect","getElementById","locale","cookie","location","reload","mediaGalleries","log"],"sourceRoot":""}