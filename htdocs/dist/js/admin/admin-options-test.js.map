{"version":3,"file":"js/admin/admin-options-test.js","mappings":"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","sources":["webpack:///../vendor/bugquest/web-framework/Assets/js/components/MediaGallery.js","webpack:///../vendor/bugquest/web-framework/Assets/js/components/MediaModalViewer.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/BlockFactory.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/BoolBlock.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/FloatBlock.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/IntBlock.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/MediaBlock.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/OptionBlock.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/OptionManager.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/OptionsPage.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/SelectBlock.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/StringBlock.js","webpack:///../vendor/bugquest/web-framework/Assets/js/options/TextareaBlock.js","webpack:///../vendor/bugquest/web-framework/Assets/js/services/Builder.js","webpack:///../vendor/bugquest/web-framework/Assets/js/services/ConfirmDialog.js","webpack:///../vendor/bugquest/web-framework/Assets/js/services/MediaPicker.js","webpack:///../vendor/bugquest/web-framework/Assets/js/services/Toast.js","webpack:///../vendor/bugquest/web-framework/Assets/js/services/Translator.js","webpack:///./Assets/js/admin/TestOptionsPage.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./Assets/js/admin-options-test.js"],"sourcesContent":["import Builder from '@framework/js/services/Builder.js';\nimport MediaModalViewer from './MediaModalViewer.js';\nimport {Toast} from \"@framework/js/services/Toast\";\nimport {__} from '@framework/js/services/Translator.js';\nimport ConfirmDialog from \"@framework/js/services/ConfirmDialog\";\n\nexport default class MediaGallery {\n    constructor(element) {\n        this.element = element;\n\n        this.canUpload = false;\n        this.canModal = false;\n        this.onClickItem = null;\n        this.canEditTags = false;\n        this.deletionMode = false;\n        this.perPage = 12;\n        this.selectTags = [];\n        this.tags = [];\n        this.mimeTypes = [];\n        this.forced_mimeTypes = [];\n        this.search = '';\n        //check if element has data-per-page attribute\n        const perPage = this.element.dataset.perPage;\n        if (perPage && !isNaN(perPage))\n            this.perPage = parseInt(perPage, 10);\n\n        const canUpload = this.element.dataset.canUpload;\n        if (canUpload && canUpload === 'true')\n            this.canUpload = true;\n\n        const canModal = this.element.dataset.canModal;\n        if (canModal && canModal === 'true')\n            this.canModal = true;\n\n        const canEditTags = this.element.dataset.canEditTags;\n        if (canEditTags && canEditTags === 'true')\n            this.canEditTags = true;\n\n        const forcedMimeTypes = this.element.dataset.forcedMimeTypes;\n        if (forcedMimeTypes && forcedMimeTypes.length > 0) {\n            this.forced_mimeTypes = forcedMimeTypes.split(',').map(mime => mime.trim());\n        }\n\n        this.apiUrl = '/admin/api/medias';\n\n        this.buildElements();\n        this.initEvents();\n        this.loadTags();\n        this.loadPage();\n    }\n\n    buildElements() {\n\n        //====== DROPZONE ======\n        if (this.canUpload) {\n            this.dropZone = Builder.div('media-dropzone');\n            this.element.appendChild(this.dropZone);\n        }\n\n        //====== TAGS ======\n        const tags = Builder.div('media-gallery-tags');\n        this.element.appendChild(tags);\n\n        if (this.canEditTags) {\n            //====== TAGS FORM / ACCORDION ======\n            const {\n                accordeon,\n                accordeon_content\n            } = Builder.accordion(__('Ajouter des tags', 'admin'), 'small');\n            tags.appendChild(accordeon);\n            tags.appendChild(Builder.glow_stick());\n\n            const tags_form = Builder.div('media-gallery-tags-form');\n            accordeon_content.appendChild(tags_form);\n\n            this.tag_input = Builder.input_text(__('Ajouter un tag', 'admin'), '', 'small full');\n\n            tags_form.appendChild(this.tag_input)\n            this.tag_submit = Builder.button_submit(__('Ajouter', 'admin'), 'button button-primary');\n            this.tag_submit.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.deletionMode = false;\n                tagDeleteBtn.classList.remove('active');\n                this.search = '';\n                this.updateTags();\n                const tag = this.tag_input.value.trim();\n                if (tag) {\n                    this.addTag(tag);\n                    this.tag_input.value = '';\n                }\n            })\n            tags_form.appendChild(this.tag_submit);\n        }\n\n        //====== TAGS ACTIONS/SEARCH ======\n        const tags_actions = Builder.div('media-gallery-tags-actions');\n        tags.appendChild(tags_actions);\n\n\n        const search = Builder.input_search(\n            __('Rechercher', 'admin') + '...',\n            'small',\n            (value) => {\n                this.search = value\n                this.updateTags()\n            },\n            () => {\n                this.search = '';\n                this.updateTags()\n            });\n\n\n        tags_actions.appendChild(search);\n\n        if (this.canEditTags) {\n            const tagDeleteBtn = this.buildTagDeleteToggle();\n            tags_actions.appendChild(tagDeleteBtn);\n        }\n\n        //====== TAGS CONTENT ======\n        this.tags_content = Builder.div('media-gallery-tags-content');\n        tags.appendChild(this.tags_content)\n\n        //====== MEDIA GALLERY ======\n        const container = Builder.div('fullw');\n        this.element.appendChild(container);\n\n        this.grid = Builder.div('media-gallery-content');\n        container.appendChild(this.grid);\n\n        this.pagination = Builder.div('media-gallery-pagination');\n        container.appendChild(this.pagination)\n\n        if (this.canModal)\n            this.modal = new MediaModalViewer(this)\n    }\n\n    buildTagDeleteToggle(media) {\n        const button = Builder.div('icon danger');\n        button.innerHTML = '';\n        button.dataset.tooltip = __('Mode suppression', 'admin');\n        button.dataset.tooltipType = 'danger';\n\n        button.onclick = () => {\n            this.deletionMode = !this.deletionMode;\n\n            if (this.deletionMode) {\n                this.selectTags = [];\n                this.updateTags();\n                this.loadPage()\n            }\n\n            button.classList.toggle('active', this.deletionMode);\n        };\n\n        return button;\n    }\n\n    initEvents() {\n        this.pagination.addEventListener('click', (e) => {\n            const index = e.target.closest('span[data-page]');\n            if (index) {\n                e.preventDefault();\n                const page = parseInt(index.dataset.page, 10);\n                if (!isNaN(page))\n                    this.loadPage(page);\n            }\n        });\n\n        this.tags_content.addEventListener('click', (e) => {\n            e.preventDefault();\n            const tag = e.target.closest('span[data-tag]');\n            if (!tag) return;\n\n            const id = tag.dataset.tag;\n\n            if (!id) return;\n\n            if (this.deletionMode) {\n                ConfirmDialog.show(async () => {\n                        const response = await fetch(`${this.apiUrl}/tags/delete/${id}`, {\n                            method: 'DELETE',\n                            headers: {\n                                \"Content-Type\": \"application/x-www-form-urlencoded\",\n                            },\n                        });\n\n                        if (!response.ok) throw new Error(`HTTP ${response.status}`);\n\n                        const result = await response.json();\n                        tag.remove();\n                        this.loadPage()\n                        Toast.show(__('Tag supprim avec succs', 'admin'), {\n                            type: 'success',\n                            icon: '',\n                            duration: 5000,\n                            position: 'bottom-right',\n                            closable: true\n                        })\n                    },\n                    () => null,\n                    {\n                        title: __('Supprimer ce tag ?', 'admin'),\n                        message: __('Cette action est irrversible. tes-vous sr de vouloir continuer ?', 'admin'),\n                        confirmText: __('Supprimer', 'admin'),\n                        cancelText: __('Annuler', 'admin'),\n                        confirmClass: 'button danger',\n                        cancelClass: 'button info',\n                    });\n\n                return;\n            }\n\n            if (this.selectTags.includes(id))\n                this.selectTags.splice(this.selectTags.indexOf(id), 1);\n            else\n                this.selectTags.push(id)\n\n            this.updateTags();\n            this.loadPage(1);\n\n        });\n\n        if (this.canUpload) {\n            this.element.addEventListener('dragover', (e) => {\n                e.preventDefault();\n                this.dropZone.classList.add('active');\n            });\n\n            this.element.addEventListener('dragleave', (e) => {\n                if (e.relatedTarget === null || !this.dropZone.contains(e.relatedTarget)) {\n                    this.dropZone.classList.remove('active');\n                }\n            });\n\n            this.element.addEventListener('drop', (e) => {\n                e.preventDefault();\n                this.dropZone.classList.remove('active');\n                const files = [...e.dataTransfer.files];\n                for (let file of files)\n                    this.uploadFile(file);\n            });\n        }\n\n\n        this.element.addEventListener('click', (e) => {\n            const card = e.target.closest('.__media_card');\n            if (card) {\n                try {\n                    const media = JSON.parse(card.dataset.media)\n\n                    if (typeof this.onClickItem === 'function')\n                        this.onClickItem(media);\n\n                    if (this.canModal)\n                        this.modal.open(media)\n                } catch (err) {\n                    Toast.show(__('Erreur de parsing du mdia :', 'admin') + ' ' + err.message, {\n                        type: 'danger',\n                        icon: '',\n                        duration: 5000,\n                        position: 'bottom-right',\n                        closable: true\n                    })\n                    console.error(__('Erreur de parsing du mdia :', 'admin'), err);\n                    return;\n                }\n            }\n        });\n\n    }\n\n    async loadPage(page = 1) {\n        try {\n            const params = new URLSearchParams();\n            params.set('per_page', this.perPage);\n\n            this.selectTags.forEach(tagId => {\n                params.append('tags[]', tagId);\n            });\n\n            if(this.forced_mimeTypes)\n                this.forced_mimeTypes.forEach(mime => {\n                    params.append('mime_types[]', mime);\n                });\n\n            const response = await fetch(\n                `${this.apiUrl}/all/${page}?${params}`\n            );\n\n            if (!response.ok) throw new Error(`HTTP ${response.status}`);\n\n            const result = await response.json();\n            this.renderMedia(result.items);\n            this.renderPagination(result.current_page, result.last_page);\n        } catch (err) {\n            Toast.show('[MediaGalleryLoader] ' + __('Erreur de chargement des mdias :', 'admin') + ' ' + err.message, {\n                type: 'danger',\n                icon: '',\n                duration: 5000,\n                position: 'bottom-right',\n                closable: true\n            })\n            console.error('[MediaGalleryLoader] ' + __('Erreur de chargement des mdias :', 'admin'), err);\n        }\n    }\n\n    async loadTags() {\n        try {\n            const response = await fetch(`${this.apiUrl}/tags/all`);\n\n            if (!response.ok) throw new Error(`HTTP ${response.status}`);\n\n            const result = await response.json();\n\n            this.tags = result;\n            this.renderTags();\n        } catch (err) {\n            Toast.show('[MediaGalleryLoader] ' + __('Erreur de chargement des tags :', 'admin') + ' ' + err.message, {\n                type: 'danger',\n                icon: '',\n                duration: 5000,\n                position: 'bottom-right',\n                closable: true\n            })\n            console.error('[MediaGalleryLoader] ' + __('Erreur de chargement des tags :', 'admin'), err);\n        }\n    }\n\n    async addTag(tag) {\n        try {\n            const response = await fetch(`${this.apiUrl}/tags/add`, {\n                method: 'POST',\n                headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\n                },\n                body: 'name=' + encodeURIComponent(tag),\n            });\n\n            if (!response.ok) throw new Error(`HTTP ${response.status}`);\n\n            const result = await response.json();\n\n            this.loadTags();\n        } catch (err) {\n            Toast.show('[MediaGalleryLoader] ' + __(\"Erreur d'ajout de tag :\", 'admin') + ' ' + err.message, {\n                type: 'danger',\n                icon: '',\n                duration: 5000,\n                position: 'bottom-right',\n                closable: true\n            });\n            console.error('[MediaGalleryLoader] ' + __(\"Erreur d'ajout de tag :\", 'admin'), err);\n        }\n    }\n\n    renderMedia(mediaItems = []) {\n        this.grid.innerHTML = '';\n        mediaItems.forEach(media => {\n            const card = this.createMediaCard(media);\n            this.grid.appendChild(card);\n        });\n    }\n\n    renderPagination(currentPage, lastPage) {\n        this.pagination.innerHTML = '';\n\n        for (let page = 1; page <= lastPage; page++) {\n            const span = document.createElement('span');\n            span.dataset.page = page;\n            span.textContent = page;\n            if (page === currentPage) span.classList.add('active');\n            this.pagination.appendChild(span);\n        }\n    }\n\n    renderTags() {\n        this.tags_content.innerHTML = '';\n        this.tags.forEach(tag => {\n            const span = document.createElement('span');\n            span.dataset.tag = tag.id;\n            span.textContent = tag.name;\n            this.tags_content.appendChild(span);\n        });\n    }\n\n    /*\n        * Met  jour les tags de la galerie de mdias. ajouter class active sur les tags slectionns\n     */\n    updateTags() {\n        const tags = this.tags_content.querySelectorAll('span[data-tag]');\n        tags.forEach(tag => {\n\n            const id = tag.dataset.tag;\n\n            if (!id) return;\n\n            if (this.search)\n                tag.classList.toggle('hidden', !tag.textContent.toLowerCase().includes(this.search.toLowerCase()));\n\n            if (this.selectTags.includes(id))\n                tag.classList.add('active');\n            else\n                tag.classList.remove('active');\n        });\n    }\n\n    createMediaCard(media) {\n        const div = document.createElement('div');\n        div.className = 'media-card __media_card';\n        div.dataset.id = media.id;\n\n        const isImage = media.mime_type.startsWith('image/');\n\n        div.innerHTML = `\n            <div class=\"media-card--mime\">${media.mime_type}</div>\n            <div class=\"media-card--preview\">\n                ${isImage\n            ? `<img src=\"/${media.path}\" alt=\"${media.original_name}\">`\n            : `<div class=\"media-card--icon\">${this.getIconForMime(media.mime_type)}</div>`}\n            </div>\n            <div class=\"media-card--meta\">\n                <div class=\"name\">${media.original_name}</div>\n                <div class=\"size\">${(media.size / 1024).toFixed(1)} ko</div>\n            </div>\n        `;\n        div.dataset.media = JSON.stringify(media);\n        return div;\n    }\n\n    replaceCardWithMedia(tempCard, media) {\n        const newCard = this.createMediaCard(media);\n        tempCard.replaceWith(newCard);\n    }\n\n    getIconForMime(mime) {\n        if (mime === 'application/pdf') return '';\n        if (mime === 'text/plain') return '';\n        if (mime.startsWith('video/')) return '';\n        return '';\n    }\n\n    uploadFile(file) {\n        const formData = new FormData();\n        formData.append('file', file);\n\n        const tempCard_el = Builder.div('media-card uploading');\n        const preview_el = Builder.div('media-card--preview');\n        const progressBar_el = Builder.div('progress-bar');\n        preview_el.appendChild(this.getPreviewHTML(file));\n        tempCard_el.appendChild(preview_el);\n        tempCard_el.appendChild(progressBar_el);\n        this.grid.prepend(tempCard_el);\n\n        const progressBar = tempCard_el.querySelector('.progress-bar');\n\n        const xhr = new XMLHttpRequest();\n        xhr.open('POST', `${this.apiUrl}/upload`);\n\n        xhr.upload.onprogress = (e) => {\n            const percent = Math.floor((e.loaded / e.total) * 100);\n            progressBar.style.width = percent + '%';\n        };\n\n        xhr.onload = () => {\n            if (xhr.status === 200) {\n                try {\n                    const response = JSON.parse(xhr.responseText);\n                    this.replaceCardWithMedia(tempCard_el, response);\n                } catch (err) {\n\n                    tempCard_el.innerHTML = `<div class=\"error\"> ${__('Rponse invalide', 'admin')}</div>`;\n                }\n            } else {\n                tempCard_el.innerHTML = `<div class=\"error\"> ${__('Upload chou', 'admin')}</div>`;\n            }\n        };\n\n        xhr.onerror = () => {\n            tempCard_el.innerHTML = `<div class=\"error\"> ${__('Erreur rseau', 'admin')}</div>`;\n        };\n\n        xhr.send(formData);\n    }\n\n    getPreviewHTML(file) {\n        if (file.type.startsWith('image/svg')) {\n            const svg = Builder.img(URL.createObjectURL(file), 'preview');\n            return svg;\n        } else if (file.type.startsWith('image/'))\n            return Builder.img(URL.createObjectURL(file), 'preview');\n\n        const div = Builder.div('media-card--icon');\n        div.innerHTML = this.getIconForMime(file.type);\n\n        return div;\n    }\n}\n","import Builder from \"@framework/js/services/Builder\";\nimport ConfirmDialog from \"@framework/js/services/ConfirmDialog\";\nimport {Toast} from \"@framework/js/services/Toast\";\nimport {__} from '@framework/js/services/Translator.js';\n\nexport default class MediaModalViewer {\n    constructor(gallery) {\n        this.gallery = gallery;\n        this.waitingTags = [];\n        this.deletionMode = false;\n        this.new_tag = '';\n\n        this.modal = Builder.modal(\n            null,\n            () => {\n\n            },\n            () => {\n                this.gallery.loadPage();\n                this.waitingTags = [];\n                this.deletionMode = false;\n                content.innerHTML = '';\n            });\n\n        document.body.appendChild(this.modal);\n    }\n\n    async open(media) {\n        if (!media) return;\n\n        this.waitingTags = media.tags ? JSON.parse(JSON.stringify(media.tags)) : [];\n        this.deletionMode = false;\n        this.modal.content.innerHTML = '';\n\n        const container = Builder.div('media-modal');\n\n        container.appendChild(this.buildActions(media));\n        container.appendChild(this.buildPreview(media));\n\n        const info = Builder.div('media-modal--info');\n        const infoContainer = Builder.div('media-modal--info-container');\n\n        const title = Builder.h2(media.original_name);\n        const infoSub = Builder.div();\n        const list = Builder.list([`<strong>Type :</strong> ${media.mime_type}`, `<strong>Taille :</strong> ${(media.size / 1024).toFixed(1)} ko`, `<strong>Extension :</strong> ${media.extension}`, `<strong>Ajout le :</strong> ${new Date(media.created_at).toLocaleDateString('fr-FR')}`,]);\n\n        infoSub.appendChild(title);\n        infoSub.appendChild(list);\n        infoContainer.appendChild(infoSub);\n\n        infoContainer.appendChild(this.buildTagEditor(media));\n        info.appendChild(infoContainer);\n\n        if (media.exif && typeof media.exif === 'object' && Object.keys(media.exif).length > 0) {\n            const {accordeon, accordeon_content} = Builder.accordion('EXIF', 'small');\n            const exifList = Builder.list(Object.entries(media.exif).map(([key, value]) => `<strong>${key}:</strong> ${typeof value === 'object' ? JSON.stringify(value) : value}`));\n            exifList.classList.add('media-modal--exif');\n            accordeon_content.appendChild(exifList);\n            info.appendChild(accordeon);\n        }\n\n        container.appendChild(info);\n        this.modal.content.appendChild(container);\n        this.modal.open();\n    }\n\n    buildTagUpdateButton(media) {\n        const button = Builder.div('icon info hidden');\n        button.innerHTML = '';\n        button.dataset.tooltip = __('Mettre  jour les tags', 'admin');\n        button.dataset.tooltipType = 'info';\n\n        button.onclick = async () => {\n\n            let tagIds = this.waitingTags.map(tag => tag.id);\n\n            const encoded = tagIds.map(id => `tags[]=${encodeURIComponent(id)}`).join('&');\n\n            this.deletionMode = false;\n            this.tagDeleteBtn.classList.remove('active');\n\n            try {\n                const res = await fetch(`${this.gallery.apiUrl}/tags/set/${media.id}`, {\n                    method: 'POST', headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded',\n                    }, body: encoded\n                });\n\n                if (!res.ok) throw new Error(`HTTP ${res.status}`);\n\n                this.waitingTags.forEach(tag => {\n                    if (\"new\" in tag && tag.new) delete tag.new;\n                });\n                media.tags = JSON.parse(JSON.stringify(this.waitingTags));\n                this.updateTagList()\n                this.updateTagButtonVisibility()\n                Toast.show(__('Tags mis  jour', 'admin'), {\n                    type: 'success', icon: '', duration: 2000, position: 'bottom-right', closable: true\n                })\n\n            } catch (err) {\n                Toast.show('[MediaModalViewer] ' + __('Erreur mise  jour des tags :', 'admin') + ' ' + err.message, {\n                    type: 'danger', icon: '', duration: 5000, position: 'bottom-right', closable: true\n                })\n                console.error('[MediaModalViewer] ' + __('Erreur mise  jour des tags :', 'admin'), err);\n            }\n        };\n\n        return button;\n    }\n\n    buildTagDeleteToggle(media) {\n        const button = Builder.div('icon danger');\n        button.innerHTML = '';\n        button.dataset.tooltip = __('Mode suppression', 'admin');\n        button.dataset.tooltipType = 'danger';\n\n        button.onclick = () => {\n            this.deletionMode = !this.deletionMode;\n\n            //if close delete mode, reset tags to original and keep new tags at end\n            if (!this.deletionMode) {\n                const newTags = this.waitingTags.filter(tag => (\"new\" in tag && tag.new));\n                this.waitingTags = media.tags ? JSON.parse(JSON.stringify(media.tags)) : [];\n                this.waitingTags.push(...newTags);\n                this.updateTagList();\n                this.updateTagButtonVisibility()\n            }\n\n            button.classList.toggle('active', this.deletionMode);\n        };\n\n        return button;\n    }\n\n    buildAddCategoryButton(media) {\n        const button = Builder.div('icon hidden');\n        button.innerHTML = '';\n        button.dataset.tooltip = __('Ajouter une nouvelle catgorie', 'admin');\n        button.dataset.tooltipType = 'info';\n\n        button.onclick = async () => {\n\n            if (!this.new_tag || this.new_tag.length < 3) return;\n\n            //check if tag already exists\n            const tagExists = this.gallery.tags.find(tag => tag.name.toLowerCase() === this.new_tag.toLowerCase());\n            if (tagExists) return;\n\n            try {\n                const response = await fetch(`${this.gallery.apiUrl}/tags/add`, {\n                    method: 'POST',\n                    headers: {\n                        \"Content-Type\": \"application/x-www-form-urlencoded\",\n                    },\n                    body: 'name=' + encodeURIComponent(this.new_tag),\n                });\n\n                this.search.dispatchEvent(new Event('close'));\n                this.new_tag = '';\n                this.tagAddBtn.classList.add('hidden')\n\n                if (!response.ok) throw new Error(`HTTP ${response.status}`);\n\n                const tag = await response.json();\n                this.gallery.tags.push(tag);\n                this.gallery.renderTags();\n                tag.new = true;\n                this.waitingTags.push(tag);\n                this.updateTagList();\n                this.updateTagButtonVisibility();\n            } catch (err) {\n                Toast.show('[MediaModalViewer] ' + __(\"Erreur d'ajout de tag :\", 'admin') + ' ' + err.message, {\n                    type: 'danger',\n                    icon: '',\n                    duration: 5000,\n                    position: 'bottom-right',\n                    closable: true\n                })\n                console.error('[MediaModalViewer] ' + __(\"Erreur d'ajout de tag :\", 'admin'), err);\n            }\n        };\n\n        return button;\n    }\n\n    buildTagEditor(media) {\n        const tagsContainer = Builder.div('media-modal--tags');\n        const tagList = Builder.div('media-modal--tags-list');\n        const tagActions = Builder.div('media-modal--tags-actions');\n\n        this.tagUpdateBtn = this.buildTagUpdateButton(media);\n        this.tagAddBtn = this.buildAddCategoryButton(media);\n        this.tagDeleteBtn = this.buildTagDeleteToggle(media);\n        tagActions.append(this.tagUpdateBtn, this.tagDeleteBtn, this.tagAddBtn);\n\n        this.updateTagButtonVisibility = () => {\n            //check if waintingTags is different from media.tags, ignore order, check only ids\n            const waitingTagIds = this.waitingTags.map(tag => tag.id);\n            const mediaTagIds = media.tags.map(tag => tag.id);\n            const isDifferent = waitingTagIds.length !== mediaTagIds.length || waitingTagIds.some(id => !mediaTagIds.includes(id));\n\n            if (isDifferent)\n                this.tagUpdateBtn.classList.remove('hidden');\n            else\n                this.tagUpdateBtn.classList.add('hidden');\n        };\n\n        this.updateTagList = () => {\n            tagList.innerHTML = '';\n            this.waitingTags.forEach(tag => {\n                const tagEl = Builder.div('tag');\n                tagEl.textContent = tag.name;\n                tagEl.dataset.tag = tag.id;\n\n                if (tag.new) {\n                    tagEl.classList.add('new');\n                    tagEl.dataset.tooltip = __('Cliquez pour supprimer', 'admin');\n                    tagEl.dataset.tooltipType = 'info';\n                }\n\n                tagEl.onclick = () => {\n                    if (!this.deletionMode) return;\n\n                    this.waitingTags = this.waitingTags.filter(t => t.id !== tag.id);\n                    tagEl.remove();\n                    this.updateTagButtonVisibility();\n                };\n\n                tagList.appendChild(tagEl);\n            });\n        };\n\n        this.updateTagList();\n\n        const {searchContainer, result} = Builder.search(\n            __('Ajouter un tag', 'admin') + '...',\n            (value, results_el) => {\n                this.new_tag = value;\n                results_el.innerHTML = '';\n                const filtered =\n                    this.gallery.tags.filter(tag => tag.name.toLowerCase().includes(value.toLowerCase())\n                        && !media.tags.some(t => t.id === tag.id)\n                        && !this.waitingTags.some(t => t.id === tag.id));\n\n                if (filtered.length) {\n                    this.tagAddBtn.classList.add('hidden');\n                    results_el.classList.add('active');\n                } else {\n                    this.tagAddBtn.classList.remove('hidden');\n                    results_el.classList.remove('active');\n                }\n\n                filtered.forEach(tag => {\n                    const tagEl = Builder.div('result-item');\n                    tagEl.textContent = tag.name;\n                    tagEl.dataset.tag = tag.id;\n                    results_el.appendChild(tagEl);\n                });\n            },\n            (item) => {\n                const tagId = parseInt(item.dataset.tag);\n                const tag = this.gallery.tags.find(t => t.id === tagId);\n                if (!tag) return;\n\n                tag.new = true;\n                this.waitingTags.push(tag);\n\n                searchContainer.dispatchEvent(new Event('close'));\n                this.updateTagList();\n                this.updateTagButtonVisibility();\n            }, 2);\n        this.search = searchContainer;\n\n        tagsContainer.append(tagActions, tagList, searchContainer);\n        return tagsContainer;\n    }\n\n    buildActions(media) {\n        const actions = Builder.div('flex-actions');\n\n        const dl = Builder.div('icon');\n        dl.innerHTML = '';\n        dl.dataset.tooltip = __('Tlcharger', 'admin');\n        dl.dataset.tooltipType = 'info';\n        dl.onclick = async () => {\n            const blob = await (await fetch('/' + media.path)).blob();\n            const url = URL.createObjectURL(blob);\n            const link = document.createElement('a');\n            link.href = url;\n            link.download = media.original_name;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        };\n\n        const open = Builder.div('icon');\n        open.innerHTML = '';\n        open.dataset.tooltip = __('Ouvrir', 'admin');\n        open.dataset.tooltipType = 'info';\n        open.onclick = () => window.open('/' + media.path, '_blank');\n\n        const del = Builder.div('icon danger');\n        del.innerHTML = '';\n        del.dataset.tooltip = __('Supprimer', 'admin');\n        del.dataset.tooltipType = 'danger';\n        del.onclick = async () => {\n\n            ConfirmDialog.show(async () => {\n                try {\n                    const res = await fetch(`${this.gallery.apiUrl}/delete/${media.id}`, {method: 'DELETE'});\n                    if (!res.ok) throw new Error(`HTTP ${res.status}`);\n                    this.gallery.loadPage();\n                    Toast.show(__('Mdia supprim', 'admin'), {\n                        type: 'success', icon: '', duration: 2000, position: 'bottom-right', closable: true\n                    });\n                    this.modal.close();\n                } catch (e) {\n                    Toast.show('[MediaModalViewer] ' + __('Erreur suppression mdia :', 'admin') + ' ' + e.message, {\n                        type: 'danger', icon: '', duration: 5000, position: 'bottom-right', closable: true\n                    });\n                    console.error('[MediaModalViewer] ' + __('Erreur suppression mdia :', 'admin'), e);\n                }\n            }, () => null, {\n                title: __('Supprimer ce mdia ?', 'admin'),\n                message: __('Cette action est irrversible. tes-vous sr de vouloir continuer ?', 'admin'),\n                confirmText: __('Supprimer', 'admin'),\n                cancelText: __('Annuler', 'admin'),\n                confirmClass: 'button danger',\n                cancelClass: 'button info',\n            });\n        };\n\n        actions.append(dl, open, del);\n        return actions;\n    }\n\n    buildPreview(media) {\n        const preview = Builder.div('media-modal--preview');\n        if (media.mime_type.startsWith('image/')) {\n            preview.appendChild(Builder.img('/' + media.path, media.original_name));\n        }//svg\n        else if (media.mime_type.startsWith('image/svg')) {\n            const svg = Builder.img('/' + media.path, media.original_name);\n            preview.appendChild(svg);\n        } else {\n            const icon = Builder.div('media-card--icon');\n            icon.innerHTML = this.gallery.getIconForMime(media.mime_type);\n            preview.appendChild(icon);\n        }\n        return preview;\n    }\n}\n","import {IntBlock} from './IntBlock.js';\nimport {FloatBlock} from './FloatBlock.js';\nimport {StringBlock} from './StringBlock.js';\nimport {MediaBlock} from './MediaBlock.js';\nimport {SelectBlock} from './SelectBlock.js';\nimport {BoolBlock} from './BoolBlock.js';\nimport {TextareaBlock} from './TextareaBlock.js';\n\nexport class BlockFactory {\n    static types = {\n        int: IntBlock,\n        float: FloatBlock,\n        string: StringBlock,\n        media: MediaBlock,\n        select: SelectBlock,\n        bool: BoolBlock,\n        textarea: TextareaBlock,\n    };\n\n    static register(type, clazz) {\n        this.types[type] = clazz;\n    }\n\n    static create(type, key, label, value = null, options = [], onChange = null, group = 'default') {\n        const BlockClass = this.types[type];\n        if (!BlockClass)\n            throw new Error(`Type de bloc inconnu : ${type}`);\n\n        return new BlockClass(key, label, value, options, onChange, group);\n    }\n}\n","import {OptionBlock} from './OptionBlock.js';\nimport Builder from '@framework/js/services/Builder.js';\nimport {__} from '@framework/js/services/Translator.js';\n\nexport class BoolBlock extends OptionBlock {\n    constructor(key, label, value = false, options = {}, onChange = null, group = 'default') {\n        super(key, label, value, options, onChange, group);\n        this.type = 'bool';\n    }\n\n    render(container) {\n        const wrapper = super.render();\n        wrapper.classList.add('bool');\n\n        wrapper.appendChild(Builder.label(this.label));\n\n        const switcher = Builder.div('bool-switch');\n        switcher.dataset.state = this.value ? 'on' : 'off';\n        switcher.title = this.value ? __('Activ', 'options') : __('Dsactiv', 'options');\n        switcher.addEventListener('click', () => {\n            this.value = !this.value;\n            switcher.dataset.state = this.value ? 'on' : 'off';\n            switcher.title = this.value ? __('Activ', 'options') : __('Dsactiv', 'options');\n            this.notifyChange();\n        });\n\n        wrapper.appendChild(switcher);\n        container.appendChild(wrapper);\n    }\n}\n","import {OptionBlock} from './OptionBlock.js';\nimport Builder from '@framework/js/services/Builder.js';\n\nexport class FloatBlock extends OptionBlock {\n    constructor(key, label, value = null, options = {}, onChange = null, group = 'default') {\n        super(key, label, value, options, onChange, group);\n        this.type = 'float';\n        this.debounceTimer = null;\n        this.delay = this.options?.delay ?? 2000;\n        this.placeholder = this.options?.placeholder ?? '';\n    }\n\n    render(container) {\n        const wrapper = super.render();\n        wrapper.classList.add('float');\n\n        wrapper.appendChild(Builder.label(this.label));\n\n        const input = Builder.input_number(this.placeholder, 'any', this.value);\n        wrapper.appendChild(input);\n\n        const progress = Builder.div('save-progress');\n        wrapper.appendChild(progress);\n\n        input.addEventListener('input', (e) => {\n            this.value = parseFloat(e.target.value);\n\n            progress.style.transition = 'none';\n            progress.style.width = '0';\n\n            requestAnimationFrame(() => {\n                progress.style.transition = `width ${this.delay}ms linear`;\n                progress.style.width = '100%';\n            });\n\n            this.debounce(() => {\n                this.notifyChange();\n                progress.style.transition = 'none';\n                progress.style.width = '0';\n            }, this.delay);\n        });\n\n        container.appendChild(wrapper);\n    }\n\n    debounce(callback, delay) {\n        console.log('Debouncing...');\n        if (this.debounceTimer) clearTimeout(this.debounceTimer);\n        this.debounceTimer = setTimeout(callback, delay);\n    }\n}\n","import {OptionBlock} from './OptionBlock.js';\nimport Builder from '@framework/js/services/Builder.js';\n\nexport class IntBlock extends OptionBlock {\n    constructor(key, label, value = null, options = {}, onChange = null, group = 'default') {\n        super(key, label, value, options, onChange, group);\n        this.type = 'int';\n        this.debounceTimer = null;\n        this.delay = this.options?.delay ?? 2000;\n        this.placeholder = this.options?.placeholder ?? '';\n    }\n\n    render(container) {\n        const wrapper = super.render();\n        wrapper.classList.add('int');\n\n        wrapper.appendChild(Builder.label(this.label))\n\n        const input = Builder.input_number(this.placeholder, 1, this.value);\n        wrapper.appendChild(input);\n\n        const progress = Builder.div('save-progress');\n        wrapper.appendChild(progress);\n\n        input.addEventListener('input', (e) => {\n            this.value = parseInt(e.target.value)\n\n            // Rinitialiser progress\n            progress.style.transition = 'none';\n            progress.style.width = '0';\n\n            requestAnimationFrame(() => {\n                progress.style.transition = `width ${this.delay}ms linear`;\n                progress.style.width = '100%';\n            });\n\n            this.debounce(() => {\n                this.notifyChange();\n                progress.style.transition = 'none';\n                progress.style.width = '0';\n            }, this.delay);\n        });\n\n        container.appendChild(wrapper);\n    }\n\n    debounce(callback, delay) {\n        console.log('Debouncing...');\n        if (this.debounceTimer) clearTimeout(this.debounceTimer);\n        this.debounceTimer = setTimeout(callback, delay);\n    }\n}","import {OptionBlock} from './OptionBlock.js';\nimport Builder from '@framework/js/services/Builder';\nimport MediaPicker from '@framework/js/services/MediaPicker';\nimport {__} from '@framework/js/services/Translator';\n\nexport class MediaBlock extends OptionBlock {\n    constructor(key, label, value = null, options = {}, onChange = null, group = 'default') {\n        super(key, label, value, options, onChange, group);\n        this.type = 'media';\n        this.mimeTypes = options.mimeTypes || [];\n    }\n\n    render(container) {\n        const wrapper = super.render()\n        wrapper.classList.add('media');\n\n        const preview = Builder.div('media-preview');\n        preview.textContent = this.value || __('aucun mdia slectionn', 'options');\n        preview.dataset.tooltip = __('Cliquez pour changer le mdia', 'options');\n        preview.addEventListener('click', () => {\n            MediaPicker.open(this.mimeTypes, (media) => {\n                this.value = media.id;\n                preview.innerHTML = '';\n                preview.appendChild(this.getPreview(media));\n                this.notifyChange();\n            });\n        });\n\n        if (this.value) {\n            preview.appendChild(this.getPreview(this.value));\n            this.value = this.value.id;\n        }\n\n        wrapper.appendChild(preview);\n        container.appendChild(wrapper);\n    }\n\n    getPreview(media) {\n        //return img if media is an image, else return icon (media.mime_type)\n        if (media.mime_type.startsWith('image/')) {\n            return Builder.img('/' + media.path, media.name, 'media-current');\n        } else {\n            const icon = this.getIconForMime(media.mime_type);\n            let span = Builder.span('media-current');\n            span.textContent = icon;\n            return span;\n        }\n    }\n\n    getIconForMime(mime) {\n        if (mime === 'application/pdf') return '';\n        if (mime === 'text/plain') return '';\n        if (mime.startsWith('video/')) return '';\n        return '';\n    }\n}\n","export class OptionBlock {\n    constructor(key, label, value = null, options = {}, onChange = null, group = 'default') {\n        this.key = key;\n        this.label = label;\n        this.value = value;\n        this.options = options;\n        this.type = null;\n        this.onChange = onChange;\n        this.group = group;\n        this.description = this.options?.description || null;\n    }\n\n    render() {\n        const wrapper = document.createElement('div');\n        wrapper.className = 'option-block';\n\n        const descriptionIcon = this.renderDescriptionIcon();\n        if (descriptionIcon) wrapper.appendChild(descriptionIcon);\n\n        return wrapper;\n    }\n\n\n    renderDescriptionIcon() {\n        if (!this.description) return null;\n\n        const icon = document.createElement('span');\n        icon.className = 'option-help';\n        icon.textContent = '?';\n        icon.dataset.tooltip = this.description;\n\n        return icon;\n    }\n\n    notifyChange() {\n        if (typeof this.onChange === 'function')\n            this.onChange(this);\n        else\n            throw new Error('onChange is not assigned or is not a function');\n    }\n}\n","export default class OptionManager {\n    static _cache = new Map(); // Map<string, Map<string, {type, value}>>\n\n    static async getOption(group, key) {\n        // Check cache d'abord\n        if (this._cache.has(group) && this._cache.get(group).has(key)) {\n            return this._cache.get(group).get(key);\n        }\n\n        // Sinon fetch\n        const res = await fetch(`/admin/api/options/get/${group}/${key}`);\n        if (!res.ok) throw new Error(`Erreur chargement de l'option \"${key}\"`);\n\n        const data = await res.json();\n\n        // Met  jour le cache\n        if (!this._cache.has(group)) this._cache.set(group, new Map());\n        this._cache.get(group).set(key, data);\n\n        return data;\n    }\n\n    static async getOptions(group) {\n        if (this._cache.has(group)) {\n            return Object.fromEntries(this._cache.get(group));\n        }\n\n        const res = await fetch(`/admin/api/options/get/${group}`);\n        if (!res.ok) throw new Error(`Erreur chargement des options du groupe \"${group}\"`);\n\n        const data = await res.json();\n\n        // Stocke en cache sous forme de Map\n        const groupMap = new Map(Object.entries(data));\n        this._cache.set(group, groupMap);\n\n        return data;\n    }\n\n    static async saveOption(option) {\n        const group = option.group ?? null;\n        const key = option.key ?? null;\n        const type = option.type ?? null;\n        const value = option.value ?? null;\n\n        if (!group || !key || typeof type !== 'string')\n            throw new Error('Paramtres invalides pour saveOption()');\n\n        const url = `/admin/api/options/set/${group}/${key}`;\n        const payload = {type, value};\n\n        const res = await fetch(url, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(payload)\n        });\n\n        if (!res.ok) {\n            throw new Error(`Erreur HTTP ${res.status} : enregistrement de \"${key}\" chou`);\n        }\n\n        const result = await res.json();\n\n        // Mise  jour du cache\n        if (!this._cache.has(group)) this._cache.set(group, new Map());\n        this._cache.get(group).set(key, payload);\n\n        return result;\n    }\n\n    static async saveOptions(group, options) {\n        if (!Array.isArray(options))\n            throw new Error('Les options doivent tre un tableau');\n\n        const filteredOptions = options.filter(opt =>\n            typeof opt === 'object' &&\n            typeof opt.type === 'string' &&\n            'value' in opt\n        );\n\n        const res = await fetch(`/admin/api/options/set/${group}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(filteredOptions)\n        });\n\n        if (!res.ok)\n            throw new Error(`Erreur lors de l'enregistrement des options du groupe \"${group}\"`);\n\n        const result = await res.json();\n\n        // Mise  jour du cache\n        const groupMap = this._cache.get(group) ?? new Map();\n        Object.entries(result).forEach(([key, opt]) => {\n            groupMap.set(key, opt);\n        });\n        this._cache.set(group, groupMap);\n\n        return result;\n    }\n\n    static async deleteOption(group, key) {\n        const res = await fetch(`/admin/api/options/delete/${group}/${key}`, {\n            method: 'DELETE'\n        });\n\n        if (!res.ok) {\n            throw new Error(`Erreur lors de la suppression de l'option \"${key}\"`);\n        }\n\n        const result = await res.json();\n\n        // Retirer du cache\n        if (this._cache.has(group)) {\n            this._cache.get(group).delete(key);\n        }\n\n        return result;\n    }\n}\n","import { BlockFactory } from './BlockFactory';\nimport OptionManager from './OptionManager';\nimport { Toast } from '@framework/js/services/Toast';\nimport { __ } from '@framework/js/services/Translator';\n\nexport class OptionsPage {\n    constructor(group, containerSelector = '#options-container') {\n        this.group = group;\n        this.container = document.querySelector(containerSelector);\n        this.options = {};\n        this.blocks = [];\n    }\n\n    async init() {\n        try {\n            this.options = await OptionManager.getOptions(this.group);\n            this.render();\n        } catch (err) {\n            console.error(`[OptionsPage] Erreur chargement \"${this.group}\":`, err);\n            Toast.show(__('Erreur lors du chargement des options', 'admin'), {\n                type: 'danger',\n                icon: ''\n            });\n        }\n    }\n\n    render() {\n        throw new Error('La mthode render() doit tre implmente dans la sous-classe');\n    }\n\n    createBlock(type, key, label, defaultValue = null, options = {}, group = this.group) {\n        const value = key in this.options ? this.options[key] : defaultValue;\n\n        const block = BlockFactory.create(\n            type,\n            key,\n            label,\n            value,\n            options,\n            (option) => this.handleSaveOption(option),\n            group\n        );\n\n        this.blocks.push(block);\n        return block;\n    }\n\n    async handleSaveOption(option) {\n        try {\n            await OptionManager.saveOption(option);\n            Toast.show(__('Option enregistre avec succs', 'admin'), {\n                type: 'success',\n                icon: '',\n                duration: 4000,\n                position: 'bottom-right',\n                closable: true\n            });\n        } catch (err) {\n            console.error('[OptionsPage] Erreur save option:', err);\n            Toast.show(__('Erreur lors de l\\'enregistrement', 'admin'), {\n                type: 'error',\n                icon: '',\n                duration: 4000,\n                position: 'bottom-right',\n                closable: true\n            });\n        }\n    }\n\n    renderBlocks(...blocks) {\n        blocks.forEach(block => block.render(this.container));\n    }\n}\n","import {OptionBlock} from './OptionBlock.js';\nimport Builder from '@framework/js/services/Builder.js';\n\nexport class SelectBlock extends OptionBlock {\n    constructor(key, label, value = null, options = {}, onChange = null, group = 'default') {\n        super(key, label, value, options, onChange, group);\n        this.type = 'string';\n    }\n\n    render(container) {\n        const wrapper = super.render()\n        wrapper.classList.add('select')\n\n        const label_el = Builder.label(this.label);\n        label_el.setAttribute('for', this.key);\n\n        const select = Builder.select(this.options?.options || [], this.value, (value) => {\n            this.value = value;\n            this.notifyChange();\n        });\n        select.id = this.key;\n        select.name = this.key;\n\n        select.addEventListener('change', () => {\n            this.value = select.value;\n            this.notifyChange();\n        });\n\n        wrapper.appendChild(label_el);\n        wrapper.appendChild(select);\n\n        container.appendChild(wrapper);\n    }\n}\n","import {OptionBlock} from './OptionBlock.js';\nimport Builder from '@framework/js/services/Builder.js';\n\nexport class StringBlock extends OptionBlock {\n    constructor(key, label, value = null, options = {}, onChange = null, group = 'default') {\n        super(key, label, value, options, onChange, group);\n        this.type = 'string';\n        this.debounceTimer = null;\n        this.delay = this.options?.delay ?? 2000;\n        this.placeholder = this.options?.placeholder ?? '';\n        this.isPassword = this.options?.isPassword ?? false;\n    }\n\n    render(container) {\n        const wrapper = super.render();\n        wrapper.classList.add('string');\n\n        wrapper.appendChild(Builder.label(this.label));\n\n        const input = Builder.input_text(this.placeholder, this.value);\n        input.type = this.isPassword ? 'password' : 'text';\n        wrapper.appendChild(input);\n\n        // Barre de progression\n        const progress = Builder.div('save-progress');\n        wrapper.appendChild(progress);\n\n        input.addEventListener('input', (e) => {\n            this.value = e.target.value;\n\n            // Reset animation de la barre\n            progress.style.transition = 'none';\n            progress.style.width = '0';\n\n            // Lancer animation\n            requestAnimationFrame(() => {\n                progress.style.transition = `width ${this.delay}ms linear`;\n                progress.style.width = '100%';\n            });\n\n            this.debounce(() => {\n                this.notifyChange();\n                progress.style.transition = 'none';\n                progress.style.width = '0';\n            }, this.delay);\n        });\n\n        container.appendChild(wrapper);\n    }\n\n    debounce(callback, delay) {\n        console.log('Debouncing...');\n        if (this.debounceTimer) clearTimeout(this.debounceTimer);\n        this.debounceTimer = setTimeout(callback, delay);\n    }\n}\n","import { OptionBlock } from './OptionBlock.js';\nimport Builder from '@framework/js/services/Builder.js';\n\nexport class TextareaBlock extends OptionBlock {\n    constructor(key, label, value = null, options = {}, onChange = null, group = 'default') {\n        super(key, label, value, options, onChange, group);\n        this.type = 'textarea';\n        this.placeholder = this.options?.placeholder ?? '';\n    }\n\n    render(container) {\n        const wrapper = super.render();\n        wrapper.classList.add('textarea');\n\n        // Label\n        wrapper.appendChild(Builder.label(this.label));\n\n        // Textarea\n        const textarea = Builder.textarea(this.placeholder, this.value);\n        wrapper.appendChild(textarea);\n\n        // Bouton Save\n        const saveBtn = Builder.button('Save');\n        wrapper.appendChild(saveBtn);\n\n        // Sauvegarde manuelle\n        saveBtn.addEventListener('click', () => {\n            this.value = textarea.value;\n            this.notifyChange();\n            saveBtn.classList.add('saved');\n\n            // Feedback visuel temporaire\n            setTimeout(() => saveBtn.classList.remove('saved'), 1000);\n        });\n\n        container.appendChild(wrapper);\n    }\n}\n","export default class Builder {\n\n    static accordion(title, subclass) {\n        let accordeon = document.createElement('div');\n        accordeon.className = '__accordeon accordeon';\n        if (subclass) accordeon.classList.add(subclass);\n\n        let accordeon_title = document.createElement('div');\n        accordeon_title.className = '__accordeon_title accordeon-title';\n        accordeon_title.textContent = title;\n        accordeon.appendChild(accordeon_title);\n\n        let accordeon_content = document.createElement('div');\n        accordeon_content.className = 'accordeon-content';\n        accordeon.appendChild(accordeon_content);\n\n        return {accordeon, accordeon_content};\n    }\n\n    static glow_stick() {\n        let glow_stick = document.createElement('div');\n        glow_stick.className = 'glow-bar';\n        return glow_stick;\n    }\n\n    static label(text = '', className = '') {\n        let label = document.createElement('label');\n        if (className) label.className = className;\n        if (text) label.textContent = text;\n        return label;\n    }\n\n    static input_text(placeholder = '', value = '', className = '') {\n        let input = document.createElement('input');\n        input.type = 'text';\n        if (placeholder) input.placeholder = placeholder;\n        if (value) input.value = value;\n        if (className) input.className = className;\n        return input;\n    }\n\n    static textarea(placeholder = '', value = '', className = '') {\n        let textarea = document.createElement('textarea');\n        if (placeholder) textarea.placeholder = placeholder;\n        if (value) textarea.value = value;\n        if (className) textarea.className = className;\n        return textarea;\n    }\n\n    static input_number(placeholder = '', step = 1, value = '', className = '') {\n        let input = document.createElement('input');\n        input.type = 'number';\n        if (step) input.step = step;\n        if (placeholder) input.placeholder = placeholder;\n        if (value) input.value = value;\n        if (className) input.className = className;\n        return input;\n    }\n\n    static input_search(placeholder = '', className = '', onSearch = null, onEmpty = null, searchMinLength = 2) {\n        let input = this.input_text(placeholder, '', className);\n        input.type = 'search';\n        input.addEventListener('input', () => {\n            let value = input.value;\n            if (value.length >= searchMinLength) onSearch(value); else onEmpty();\n        });\n\n        return input;\n    }\n\n    static input_password(placeholder = '', value = '', className = '') {\n        let input = this.input_text(placeholder, value, className);\n        input.type = 'password';\n        return input;\n    }\n\n    static button_submit(text = 'Envoyer', className = 'button button-primary') {\n        let button = document.createElement('button');\n        button.type = 'submit';\n        if (className) button.className = className;\n        if (text) button.textContent = text;\n        return button;\n    }\n\n    static button(text = 'Button', className = 'button', onClick = null) {\n        let button = document.createElement('div');\n        if (className) button.className = className;\n        if (text) button.textContent = text;\n        if (onClick) button.addEventListener('click', onClick);\n        return button;\n    }\n\n    static div(className = '') {\n        let div = document.createElement('div');\n        if (className) div.className = className;\n        return div;\n    }\n\n    static span(className = '') {\n        let span = document.createElement('span');\n        if (className) span.className = className;\n        return span;\n    }\n\n    static modal(title = '', onOpen = null, onClose = null) {\n        const modal = this.div('modal');\n        const wrapper = this.div('modal-wrapper');\n        const close = this.div('modal-close');\n        const content = this.div('modal-content');\n\n        let titleElement = null;\n        if (title) {\n            titleElement = this.div('modal-title');\n            titleElement.textContent = title;\n            wrapper.appendChild(titleElement);\n        }\n\n        wrapper.appendChild(close);\n        wrapper.appendChild(content);\n        modal.appendChild(wrapper);\n\n        const closeModal = () => {\n            modal.classList.remove('active');\n            if (onClose) onClose();\n        };\n\n        const openModal = () => {\n            modal.classList.add('active');\n            if (onOpen) onOpen();\n        }\n\n        close.addEventListener('click', closeModal);\n\n        modal.addEventListener('click', (e) => {\n            if (e.target === modal)\n                closeModal();\n        });\n\n        return {\n            element: modal,\n            open: openModal,\n            close: closeModal,\n            title: titleElement ?? '',\n            content: content,\n        };\n    }\n\n    static h2(content, className = '') {\n        let h2 = document.createElement('h2');\n        if (className) h2.className = className;\n        h2.textContent = content;\n        return h2;\n    }\n\n    static h3(content, className = '') {\n        let h3 = document.createElement('h3');\n        if (className) h3.className = className;\n        h3.textContent = content;\n        return h3;\n    }\n\n    static h4(content, className = '') {\n        let h4 = document.createElement('h4');\n        if (className) h4.className = className;\n        h4.textContent = content;\n        return h4;\n    }\n\n    static img(src, alt = '', className = '') {\n        let img = document.createElement('img');\n        img.src = src;\n        img.alt = alt ? alt : Math.random().toString(16).slice(2)\n        if (className) img.className = className;\n        return img;\n    }\n\n    static list(items = [], className = '', childClassName = '', onClick = null) {\n        let ul = document.createElement('ul');\n        if (className) ul.className = className;\n\n        items.forEach(item => {\n            let li = document.createElement('li');\n            li.innerHTML = item;\n            if (childClassName) li.className = childClassName;\n            if (onClick) li.addEventListener('click', () => {\n                onClick(item);\n            });\n            ul.appendChild(li);\n        });\n\n        return ul;\n    }\n\n    static search(placeholder = 'Rechercher...', onSearch = null, onClickItem = null, searchMinLength = 2, openBottom = false) {\n        let searchContainer = this.div('search-container');\n        let input = this.input_text(placeholder);\n        input.type = 'search';\n        let results = this.div('search-results ' + (openBottom ? ' open-bottom' : 'open-top'));\n        searchContainer.appendChild(input);\n        searchContainer.appendChild(results);\n        if (onSearch) input.addEventListener('input', () => {\n            let value = input.value;\n            if (value.length >= searchMinLength) onSearch(value, results); else results.innerHTML = '';\n\n        });\n\n        if (onClickItem) results.addEventListener('click', (e) => {\n            let item = e.target.closest('.result-item');\n            if (item) onClickItem(item);\n        });\n\n        //add custom event to close the search results\n        searchContainer.addEventListener('close', () => {\n            results.innerHTML = '';\n            input.value = '';\n        });\n\n        return {searchContainer, results};\n    }\n\n    static select(options = [], value = null, className = '', onChange = null) {\n        let select = document.createElement('select');\n        if (className) select.className = className;\n\n        //if options is an array of objects, use the label and value properties, else if is simple array of values use the value as label\n        if (Array.isArray(options) && options.length > 0 && typeof options[0] === 'object') {\n            options.forEach(option => {\n                let opt = document.createElement('option');\n                opt.value = option.value;\n                opt.textContent = option.label;\n                if (value && value === option.value) opt.selected = true;\n                select.appendChild(opt);\n            });\n        } else if (Array.isArray(options) && options.length > 0) {\n            options.forEach(option => {\n                let opt = document.createElement('option');\n                opt.value = option;\n                opt.textContent = option;\n                if (value && value === option) opt.selected = true;\n                select.appendChild(opt);\n            });\n        }\n\n        if (onChange) select.addEventListener('change', () => {\n            onChange(select.value);\n        });\n\n        return select;\n    }\n\n}","import Builder from '@framework/js/services/Builder.js';\nimport {__} from '@framework/js/services/Translator.js';\n\nexport default class ConfirmDialog {\n    static show(\n        onConfirm = () => {\n        },\n        onCancel = () => {\n        },\n        options = {}\n    ) {\n        const defaults = {\n            title: __('Confirmation', 'admin'),\n            message: __('tes-vous sr de vouloir continuer ?', 'admin'),\n            confirmText: __('Valider', 'admin'),\n            cancelText: __('Annuler', 'admin'),\n            confirmClass: 'button success',\n            cancelClass: 'button danger'\n        };\n\n        const {title, message, confirmText, cancelText, confirmClass, cancelClass} = {...defaults, ...options};\n\n        const title_el = Builder.div('confirm-title');\n        title_el.textContent = title;\n\n        const overlay_el = Builder.div('confirm-overlay');\n        const box_el = Builder.div('confirm-box');\n\n        const message_el = Builder.div('confirm-message');\n        message_el.textContent = message;\n\n        const actions_el = Builder.div('confirm-actions');\n\n        const confirm_el = Builder.button(confirmText, confirmClass, () => {\n            onConfirm();\n            overlay_el.remove();\n        })\n\n        const cancel_el = Builder.button(cancelText, cancelClass, () => {\n            onCancel();\n            overlay_el.remove();\n        })\n\n        actions_el.append(confirm_el, cancel_el);\n        box_el.append(title_el, message_el, actions_el);\n        overlay_el.appendChild(box_el);\n        document.body.appendChild(overlay_el);\n\n        setTimeout(() => overlay_el.classList.add('active'), 10);\n    }\n}\n","import Builder from '@framework/js/services/Builder';\nimport MediaGallery from '@framework/js/components/MediaGallery'\n\nexport default class MediaPicker {\n    static modal = null;\n    static gallery = null;\n\n    static open(mimeTypes = [], onSelect = null) {\n        if (!this.modal) {\n            this.modal = Builder.modal(\n                null,\n                () => {\n                },\n                () => {\n                }\n            );\n            this.modal.content.dataset.canUpload = 'true';\n\n            document.body.appendChild(this.modal.element);\n\n            this.gallery = new MediaGallery(this.modal.content);\n        }\n\n        this.gallery.forced_mimeTypes = mimeTypes;\n        this.gallery.onClickItem = (media) => {\n            if (typeof onSelect === 'function')\n                onSelect(media);\n\n            this.modal.close();\n        };\n\n        this.modal.open();\n        this.gallery.loadTags();\n        this.gallery.loadPage();\n    }\n}","import Builder from '@framework/js/services/Builder';\n\nexport class Toast {\n    static containers = new Map();\n\n    static show(message, {\n        type = 'info',\n        position = 'top-right',\n        duration = 4000,\n        icon = null,\n        closable = true\n    } = {}) {\n        const container = this._getContainer(position);\n\n        const toast_el = Builder.div(`bq-toast ${type}`);\n        if (icon) {\n            const icon_el = Builder.div('bq-toast-icon');\n            icon_el.innerHTML = icon;\n            toast_el.appendChild(icon_el);\n        }\n        const message_el = Builder.div('bq-toast-message');\n        message_el.innerHTML = message;\n        toast_el.appendChild(message_el);\n\n        if (closable) {\n            const close_el = Builder.div('bq-toast-close');\n            close_el.innerHTML = '';\n            close_el.title = 'Fermer';\n            close_el.addEventListener('click', () => this._removeToast(toast_el));\n            toast_el.appendChild(close_el);\n        }\n\n        container.appendChild(toast_el);\n\n        // Animation dapparition\n        requestAnimationFrame(() => {\n            toast_el.classList.add('show');\n        });\n\n        if (duration > 0)\n            setTimeout(() => this._removeToast(toast_el), duration);\n    }\n\n    static _getContainer(position) {\n        if (!this.containers.has(position)) {\n            const container = Builder.div(`bq-toast-container ${position}`);\n            document.body.appendChild(container);\n            this.containers.set(position, container);\n        }\n        return this.containers.get(position);\n    }\n\n    static _removeToast(toast) {\n        toast.classList.remove('show');\n        setTimeout(() => toast.remove(), 300);\n    }\n}","export class Translator {\n    static _domains = {};\n    static _loaded = {};\n\n    static async load(domain) {\n        if (this._loaded[domain]) return;\n\n        try {\n            const response = await fetch(`/admin/api/locale/domain/get/${domain}`);\n            if (!response.ok) throw new Error(`Error for domain: ${domain}`);\n            const data = await response.json();\n            this._domains[domain] = data;\n            this._loaded[domain] = true;\n            return data;\n        } catch (error) {\n            console.error(`[Translator] ${error.message}`);\n        }\n\n        return null;\n    }\n\n    static async translate(key, domain = 'bugquest', replacements = {}) {\n        domain = domain.trim();\n        key = key.trim();\n        if (!this._loaded[domain]) await this.load(domain);\n\n        let translation = this._domains[domain]?.[key] ?? key;\n        return this._applyReplacements(translation, replacements);\n    }\n\n    static t(key, domain = 'bugquest', replacements = {}) {\n        let translation = this._domains[domain]?.[key] ?? key;\n        return this._applyReplacements(translation, replacements);\n    }\n\n    static _applyReplacements(str, replacements) {\n        return str.replace(/{(.*?)}/g, (match, token) => {\n            return replacements[token] ?? match;\n        });\n    }\n}\n\nexport function __(key, domain = 'bugquest', replacements = {}) {\n    return Translator.t(key, domain, replacements);\n}\n","import {OptionsPage} from '@framework/js/options/OptionsPage';\nimport {__} from '@framework/js/services/Translator';\nimport Builder from '@framework/js/services/Builder';\n\nexport class TestOptionsPage extends OptionsPage {\n    constructor() {\n        super('test');\n    }\n\n    render() {\n        const wrapper = Builder.div('options-wrapper');\n\n        const intBlock = this.createBlock(\n            'int',\n            'test_int_value',\n            __('Valeur entire', 'admin'),\n            null,\n            {\n                description: __('Un nombre entier  saisir', 'admin'),\n            },\n            'test'\n        );\n\n        const floatBlock = this.createBlock(\n            'float',\n            'test_float_value',\n            __('Valeur dcimale', 'admin'),\n            null,\n            {\n                description: __('Un nombre  virgule pour les tests', 'admin'),\n            }\n        );\n\n        const stringBlock = this.createBlock(\n            'string',\n            'test_string_value',\n            __('Texte simple', 'admin'),\n            null,\n            {\n                description: __('Une chane de texte modifiable', 'admin'),\n                placeholder: __('Entrez du texte...', 'admin'),\n            },\n            'test'\n        );\n\n        const passwordBlock = this.createBlock(\n            'string',\n            'test_password_value',\n            __('Mot de passe', 'admin'),\n            null,\n            {\n                isPassword: true,\n                description: __('Un mot de passe scuris', 'admin'),\n                placeholder: __('Entrez votre mot de passe...', 'admin'),\n            },\n            'test'\n        );\n\n        const boolBlock = this.createBlock(\n            'bool',\n            'test_bool_value',\n            __('Activer la fonctionnalit ?', 'admin'),\n            null,\n            {\n                description: __('Active ou dsactive la fonctionnalit de test', 'admin'),\n            },\n            'test'\n        );\n\n        const selectBlock = this.createBlock(\n            'select',\n            'test_select_value',\n            __('Type de choix', 'admin'),\n            null,\n            {\n                description: __('Choisissez une des options', 'admin'),\n                options: [\n                    {value: 'alpha', label: 'Alpha'},\n                    {value: 'beta', label: 'Bta'},\n                    {value: 'gamma', label: 'Gamma'},\n                ]\n            },\n            'test'\n        );\n\n        const mediaBlock = this.createBlock(\n            'media',\n            'test_media_value',\n            __('Fichier mdia', 'admin'),\n            null,\n            {\n                description: __('Slectionnez un mdia pour le test', 'admin'),\n                mimeTypes: ['image/jpeg', 'image/png', 'image/webp'],\n                label: __('Choisir un mdia', 'admin')\n            },\n            'test'\n        );\n\n        const textareaBlock = this.createBlock(\n            'textarea',\n            'test_textarea_value',\n            __('Zone de texte', 'admin'),\n            null,\n            {\n                description: __('Une zone de texte pour des entres longues', 'admin'),\n                placeholder: __('Entrez votre texte ici...', 'admin'),\n            },\n            'test'\n        );\n\n        // Ajout  l'interface\n        [\n            intBlock,\n            floatBlock,\n            stringBlock,\n            passwordBlock,\n            boolBlock,\n            selectBlock,\n            mediaBlock,\n            textareaBlock\n        ].forEach(block => block.render(wrapper));\n\n        this.container.appendChild(wrapper);\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {TestOptionsPage} from '@/js/admin/TestOptionsPage.js';\n\ndocument.addEventListener('bqAdminLoaded', async () => {\n    await new TestOptionsPage()?.init();\n\n    console.log('%c[Admin] TestOptionsPage initialis avec succs ', 'color: cyan; font-weight: bold');\n});"],"names":["Builder","MediaModalViewer","Toast","__","ConfirmDialog","MediaGallery","constructor","element","canUpload","canModal","onClickItem","canEditTags","deletionMode","perPage","selectTags","tags","mimeTypes","forced_mimeTypes","search","dataset","isNaN","parseInt","forcedMimeTypes","length","split","map","mime","trim","apiUrl","buildElements","initEvents","loadTags","loadPage","dropZone","div","appendChild","accordeon","accordeon_content","accordion","glow_stick","tags_form","tag_input","input_text","tag_submit","button_submit","addEventListener","e","preventDefault","tagDeleteBtn","classList","remove","updateTags","tag","value","addTag","tags_actions","input_search","buildTagDeleteToggle","tags_content","container","grid","pagination","modal","media","button","innerHTML","tooltip","tooltipType","onclick","toggle","index","target","closest","page","id","show","response","fetch","method","headers","ok","Error","status","result","json","type","icon","duration","position","closable","title","message","confirmText","cancelText","confirmClass","cancelClass","includes","splice","indexOf","push","add","relatedTarget","contains","files","dataTransfer","file","uploadFile","card","JSON","parse","open","err","console","error","params","URLSearchParams","set","forEach","tagId","append","renderMedia","items","renderPagination","current_page","last_page","renderTags","body","encodeURIComponent","mediaItems","createMediaCard","currentPage","lastPage","span","document","createElement","textContent","name","querySelectorAll","toLowerCase","className","isImage","mime_type","startsWith","path","original_name","getIconForMime","size","toFixed","stringify","replaceCardWithMedia","tempCard","newCard","replaceWith","formData","FormData","tempCard_el","preview_el","progressBar_el","getPreviewHTML","prepend","progressBar","querySelector","xhr","XMLHttpRequest","upload","onprogress","percent","Math","floor","loaded","total","style","width","onload","responseText","onerror","send","svg","img","URL","createObjectURL","gallery","waitingTags","new_tag","content","buildActions","buildPreview","info","infoContainer","h2","infoSub","list","extension","Date","created_at","toLocaleDateString","buildTagEditor","exif","Object","keys","exifList","entries","key","buildTagUpdateButton","tagIds","encoded","join","res","new","updateTagList","updateTagButtonVisibility","newTags","filter","buildAddCategoryButton","tagExists","find","dispatchEvent","Event","tagAddBtn","tagsContainer","tagList","tagActions","tagUpdateBtn","waitingTagIds","mediaTagIds","isDifferent","some","tagEl","t","searchContainer","results_el","filtered","item","actions","dl","blob","url","link","href","download","click","removeChild","window","del","close","preview","IntBlock","FloatBlock","StringBlock","MediaBlock","SelectBlock","BoolBlock","TextareaBlock","BlockFactory","types","int","float","string","select","bool","textarea","register","clazz","create","label","options","onChange","group","BlockClass","OptionBlock","render","wrapper","switcher","state","notifyChange","debounceTimer","delay","placeholder","input","input_number","progress","parseFloat","transition","requestAnimationFrame","debounce","callback","log","clearTimeout","setTimeout","MediaPicker","getPreview","description","descriptionIcon","renderDescriptionIcon","OptionManager","_cache","Map","getOption","has","get","data","getOptions","fromEntries","groupMap","saveOption","option","payload","saveOptions","Array","isArray","filteredOptions","opt","deleteOption","delete","OptionsPage","containerSelector","blocks","init","createBlock","defaultValue","block","handleSaveOption","renderBlocks","label_el","setAttribute","isPassword","saveBtn","subclass","accordeon_title","text","step","onSearch","onEmpty","searchMinLength","input_password","onClick","onOpen","onClose","titleElement","closeModal","openModal","h3","h4","src","alt","random","toString","slice","childClassName","ul","li","openBottom","results","selected","onConfirm","onCancel","defaults","title_el","overlay_el","box_el","message_el","actions_el","confirm_el","cancel_el","onSelect","containers","_getContainer","toast_el","icon_el","close_el","_removeToast","toast","Translator","_domains","_loaded","load","domain","translate","replacements","translation","_applyReplacements","str","replace","match","token","TestOptionsPage","intBlock","floatBlock","stringBlock","passwordBlock","boolBlock","selectBlock","mediaBlock","textareaBlock"],"sourceRoot":""}